---
title: æ•°æ®ç»“æ„
description: 
published: true
date: 2023-12-27T01:23:39.699Z
tags: 
editor: markdown
dateCreated: 2023-12-27T01:23:39.699Z
---

## åº”è¯•

è¿˜æ˜¯æœ‰åŒå­¦é—®è€ƒè¯•å¤ä¹ çš„é‡ç‚¹å†…å®¹ï¼Œå…¶å®æˆ‘ä»¬ä¸Šè¯¾çš„é‡ç‚¹å°±æ˜¯è€ƒè¯•çš„é‡ç‚¹ï¼Œæœ€åä¸€æ¬¡è¯¾ä¹Ÿç»™å¤§å®¶åšäº†ä¸€äº›æ€»ç»“ï¼Œå‘¨ä¸‰å°±è€ƒè¯•äº†ï¼Œå†ç»™å¤§å®¶å¼ºè°ƒä¸€ä¸‹é‡ç‚¹çš„å¤ä¹ å†…å®¹å§

> è€å¸ˆåŸè¯ï¼ˆï¼ˆ

é¡ºåºç»“æ„ï¼š

- [x] å„ç§æ’åºç®—æ³•çš„æ€æƒ³ã€æ‰§è¡Œè¿‡ç¨‹ä»¥åŠ**ç¨‹åºå®ç°**

  > åŸºæ•°æ’åºã€æ’å…¥æ’åºã€å†’æ³¡æ’åºã€å½’å¹¶æ’åºã€é€‰æ‹©æ’åºã€å †æ’åºã€å¿«é€Ÿæ’åº

- [x] é˜Ÿåˆ—å’Œæ ˆä¸­çš„å…¥é˜Ÿå‡ºé˜Ÿå…¥æ ˆå‡ºæ ˆé¡ºåºé—®é¢˜

- [x] ç»™å®šç¨‹åºçš„æ—¶é—´å¤æ‚åº¦

- [x] Hashå‡½æ•°å’Œçº¿æ€§æ¢æµ‹æ‰§è¡Œè¿‡ç¨‹ä»¥åŠæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ éœ€è¦æ¯”è¾ƒçš„æ¬¡æ•°

- [x] çº¿æ€§ç»“æ„ä¸åŒå­˜å‚¨å½¢å¼çš„ç‰¹ç‚¹

- [x] å‡ ç§ç‰¹æ®ŠçŸ©é˜µå­˜å‚¨æ–¹å¼ä»¥åŠæ˜ å°„å‡½æ•°

- [x] Hashè¡¨å’Œè·³è¡¨å­˜å‚¨æ–¹å¼å’ŒæŸ¥æ‰¾æ–¹å¼

å±‚æ¬¡ç»“æ„ï¼š

- [x] ä»»æ„ç»™å®šä¸¤ç§äºŒå‰æ ‘çš„éå†åºåˆ—å¯ä»¥ç”»å‡ºäºŒå‰æ ‘
- [x] å“ˆå¤«æ›¼æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç 
- [x] æœ€å¤§å †å’Œæœ€å°å †çš„æ¦‚å¿µä»¥åŠæ’å…¥åˆ é™¤å…ƒç´ çš„è°ƒæ•´è¿‡ç¨‹
- [x] äºŒå‰æœç´¢æ ‘çš„æ¦‚å¿µä»¥åŠæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹çš„æ“ä½œè¿‡ç¨‹å’Œ**ç¨‹åºå®ç°è¿‡ç¨‹**
- [x] å¹³è¡¡äºŒå‰æ ‘çš„æ¦‚å¿µä»¥åŠæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹çš„æ“ä½œè¿‡ç¨‹ç­‰ã€‚

å›¾ç»“æ„ï¼š

- [x] ç»™å®šå›¾æ±‚è§£æœ€å°ç”Ÿæˆæ ‘çš„å¸¸ç”¨çš„ä¸¤ç§ç®—æ³•æ€æƒ³ä»¥åŠæ±‚è§£è¿‡ç¨‹
- [x] æ‹“æ‰‘æ’åºçš„æ€æƒ³å’Œè¿‡ç¨‹
- [x] åŠ¨æ€è§„åˆ’ä¸­æ±‚æœ€çŸ­è·¯å¾„çš„ç»å…¸ç®—æ³•æ€è·¯
- [x] è®¾è®¡åŠ¨æ€è§„åˆ’ç®—æ³•è§£å†³å®é™…é—®é¢˜çš„ç®—æ³•æ€è·¯å’Œç¨‹åºå®ç°
- [x] æ·±åº¦ä¼˜å…ˆç®—æ³•å’Œå¹¿åº¦ä¼˜å…ˆç®—æ³•çš„æ€æƒ³ã€è¿‡ç¨‹å’Œç¨‹åºå®ç°ã€‚

## æ•°æ®ç»“æ„ç®€ä»‹

æ•°æ®ç»“æ„åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢ï¼š

- é€»è¾‘ç»“æ„ï¼šæŒ‡ä»è§£å†³é—®é¢˜çš„éœ€è¦å‡ºå‘ï¼Œä¸ºå®ç°å¿…è¦çš„åŠŸèƒ½æ‰€å»ºç«‹çš„æ•°æ®ç»“æ„ï¼Œå®ƒå±äºç”¨æˆ·çš„è§†å›¾ï¼Œæ˜¯é¢å‘é—®é¢˜çš„ï¼Œè¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼›
- å­˜å‚¨ç»“æ„ï¼šæ˜¯æŒ‡æ•°æ®å¦‚ä½•åœ¨è®¡ç®—æœºä¸­å­˜æ”¾ï¼Œæ˜¯æ•°æ®é€»è¾‘ç»“æ„çš„ç‰©ç†å­˜å‚¨æ˜ è±¡ï¼Œæ˜¯å±äºå…·ä½“å®ç°çš„è§†å›¾ï¼Œæ˜¯é¢å‘è®¡ç®—æœºçš„
- è¿ç®—ï¼šä½œç”¨äºæ•°æ®ç»“æ„ä¸Šçš„è¿ç®—ï¼ŒåŠå®ç°æ–¹æ³•ï¼ˆæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ã€æ›´æ–°ç­‰ï¼‰

### é€»è¾‘ç»“æ„

æ•°æ®çš„é€»è¾‘ç»“æ„æ˜¯æŒ‡ä»è§£å†³é—®é¢˜çš„éœ€è¦å‡ºå‘ï¼Œä¸ºå®ç°å¿…è¦çš„åŠŸèƒ½æ‰€å»ºç«‹çš„æ•°æ®ç»“æ„ï¼Œå®ƒå±äºç”¨æˆ·çš„è§†å›¾ï¼Œæ˜¯é¢å‘é—®é¢˜çš„ï¼ˆæˆ–è€…è¯´æ˜¯é¢å‘åº”ç”¨çš„ï¼‰ã€‚

é€»è¾‘ç»“æ„æœ‰ä¸‰ç§ï¼š

- çº¿æ€§ç»“æ„
- æ ‘å½¢ç»“æ„
- ç½‘çŠ¶ï¼ˆå›¾ï¼‰ç»“æ„

### å­˜å‚¨ç»“æ„

æ•°æ®çš„å­˜å‚¨ç»“æ„æ˜¯æŒ‡æ•°æ®å¦‚ä½•åœ¨è®¡ç®—æœºä¸­å­˜æ”¾ï¼Œæ˜¯æ•°æ®é€»è¾‘ç»“æ„çš„ç‰©ç†å­˜å‚¨æ˜ è±¡ï¼Œæ˜¯å±äºå…·ä½“å®ç°çš„è§†å›¾ï¼Œæ˜¯é¢å‘è®¡ç®—æœºçš„ã€‚

å­˜å‚¨ç»“æ„æœ‰ï¼š

- é¡ºåºå­˜å‚¨ï¼ˆå…¬å¼åŒ–æè¿°ï¼‰
- é“¾å¼å­˜å‚¨ï¼ˆé“¾è¡¨æè¿°ï¼‰
- ç´¢å¼•å­˜å‚¨ï¼ˆé—´æ¥å¯»å€ï¼‰
- æ¨¡æ‹ŸæŒ‡é’ˆ
- æ•£åˆ—å­˜å‚¨

#### æ•°ç»„å­˜å‚¨

çº¿æ€§è¡¨ä½¿ç”¨å…¬å¼åŒ–æè¿°æ–¹å¼å­˜å‚¨ã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä»ä¸€ç»™å®šçš„çº¿æ€§è¡¨Aä¸­åˆ é™¤å€¼åœ¨x~y(x<=y)ä¹‹é—´ï¼ˆåŒ…å«xå’Œyï¼‰çš„æ‰€æœ‰å…ƒç´ ï¼Œè¦æ±‚ä»¥è¾ƒé«˜çš„æ•ˆç‡æ¥å®ç°ï¼Œå¹¶ç»™å‡ºæ—¶é—´å¤æ‚åº¦/åˆ é™¤é‡å¤å…ƒç´ ï¼š

> ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªç”¨äºä¿å­˜æœ€è¿‘çš„æœ‰æ•ˆå…ƒç´ ï¼Œä¸€ä¸ªç”¨äºéå†ï¼›å½“ç¬¦åˆæ¡ä»¶æŒ‡å‘æœ‰æ•ˆå…ƒç´ çš„æŒ‡é’ˆå‘åç§»åŠ¨ï¼Œå¦åˆ™åœåœ¨ç¬¬ä¸€ä¸ªæ— æ•ˆå…ƒç´ ä¸Šï¼Œéå†æŒ‡é’ˆä¸€ç›´éå†ï¼Œç›´åˆ°å‡ºç°æ–°çš„ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å°±å°†å…¶äº¤æ¢ã€‚

### ç®—æ³•ç®€ä»‹

è¿ç®—çš„å®šä¹‰ç›´æ¥ä¾èµ–äºé€»è¾‘ç»“æ„ï¼Œä¾‹å¦‚çº¿æ€§è¡¨ã€é˜Ÿåˆ—/å †æ ˆã€æ ‘ã€å›¾ï¼›è¿ç®—çš„å®ç°ä¾èµ–äºå­˜è´®ç»“æ„ï¼Œä¾‹å¦‚é¡ºåºå­˜å‚¨ã€é“¾å¼å­˜å‚¨ã€‚

## ç¨‹åºæ€§èƒ½åˆ†æ

## çº¿æ€§è¡¨

æ¯”è¾ƒæ•°ç»„ã€é“¾è¡¨å’Œé—´æ¥å¯»å€çš„ä¼˜ç¼ºç‚¹ï¼š

|     é¡¹ç›® |                             æ•°ç»„                             |                        é“¾è¡¨                        |                     é—´æ¥å¯»å€                     | å¤‡æ³¨ |
| -------: | :----------------------------------------------------------: | :------------------------------------------------: | :----------------------------------------------: | :--: |
|   åˆå§‹åŒ– |                         æœ‰ç¡®å®šçš„å¤§å°                         |                    åŠ¨æ€åˆ†é…å†…å­˜                    |                   åŠ¨æ€åˆ†é…å†…å­˜                   |      |
|     æ·»åŠ  | æ•°æ®å¢åŠ æ—¶å¯èƒ½ä¼šè¶…å‡ºåŸæ•°ç»„å¤§å°ï¼Œéœ€è¦æ‰©å……æ•°ç»„å¹¶å°†æ•°æ®å¤åˆ¶åˆ°æ–°çš„æ•°ç»„é‡Œ |                                                    |          å­˜å‚¨æ•°æ®çš„ä¸ªæ•°å–å†³äºæ•°ç»„çš„é•¿åº¦          |      |
|     åˆ é™¤ |                                                              | éœ€è¦è°ƒæ•´å‰ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆå¹¶é‡Šæ”¾è¢«åˆ é™¤å…ƒç´ çš„å†…å­˜ç©ºé—´ |      éœ€è¦æ”¹å˜æ•°ç»„çš„æŒ‡é’ˆï¼Œå¹¶é‡Šæ”¾è¢«åˆ é™¤å…ƒç´ çš„      |      |
|     æŸ¥æ‰¾ |                   å¯ä»¥é€šè¿‡æ˜ å°„å…¬å¼ç›´æ¥è®¿é—®                   |                     æŒ‰é¡ºåºéå†                     | å¯ä»¥é€šè¿‡æ˜ å°„å…¬å¼ç›´æ¥è®¿é—®åˆ°æŒ‡é’ˆï¼Œç„¶åè®¿é—®å…ƒç´ è‡ªèº« |      |
| é¡ºåºè¯»å†™ |                                                              |                                                    |                    å’Œæ•°ç»„ç›¸åŒ                    |      |
| éšæœºè¯»å†™ |                                                              |               æ— æ³•å®ç°é«˜æ•ˆçš„éšæœºè¯»å†™               |                 èƒ½å¤Ÿå®ç°éšæœºè¯»å†™                 |      |
|          |                                                              |                                                    |                                                  |      |

### æ•°ç»„æè¿°

æ•°ç»„æè¿°çš„ä¼˜ç‚¹ï¼š

- å„ç§æ–¹æ³•å¯ä»¥ç”¨éå¸¸**ç®€å•**çš„C++å‡½æ•°æ¥å®ç°ã€‚
- æ‰§è¡Œæœç´¢ã€åˆ é™¤å’Œæ’å…¥çš„ä¸¤æ•°éƒ½æœ‰ä¸€ä¸ª**æœ€åä¸è¡¨çš„å¤§å°å‘ˆçº¿æ€§å…³ç³»**çš„æ—¶é—´å¤æ‚æ€§ã€‚
- ä¸éœ€è¦ä¸ºè¡¨ç¤ºç»“ç‚¹é—´çš„é€»è¾‘å…³ç³»è€Œå¢åŠ **é¢å¤–çš„å­˜å‚¨ç©ºé—´**(å­˜å‚¨å¯†åº¦é«˜ï¼‰
- å¯ä»¥æ–¹ä¾¿çš„**éšæœºå­˜å–**è¡¨ä¸­çš„ä»»ä¸€ç»“ç‚¹ã€‚

æ•°ç»„æè¿°çš„ç¼ºç‚¹ï¼š

- æ’å…¥ã€åˆ é™¤å…ƒç´ éœ€è¦**ç§»åŠ¨è¡¨å†…æ•°æ®**ã€‚ 
- ç©ºé—´éœ€è¦äº‹å…ˆç”³è¯·ï¼Œä¸“ç”¨ï¼Œç©ºé—²ç©ºé—´ä¸èƒ½å…±äº«ã€‚
- ç©ºé—´çš„ä½æ•ˆåˆ©ç”¨ã€‚

æ•°ç»„çš„è¡Œã€åˆ—ä¸»æ˜ å°„æœ‰ä¸€å®šè§„å¾‹ï¼šè¡Œä¸»æ˜ å°„ä»å‰å¾€åçœ‹ï¼Œåˆ—ä¸»æ˜ å°„å€’ç€çœ‹ã€‚

### é“¾è¡¨æè¿°

ä¼˜ç‚¹ï¼š

- æ’å…¥ã€åˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚æ€§ä¸ä¾èµ–äºå…ƒç´ å¤§å° 
- æ’å…¥ã€åˆ é™¤å…ƒç´ ä¸éœ€è¦ç§»åŠ¨è¡¨å†…æ•°æ®
- ç©ºé—´ä¸éœ€è¦äº‹å…ˆç”³è¯·

ç¼ºç‚¹ï¼š

- æ¯ä¸ªèŠ‚ç‚¹ä¸­éœ€è¦é¢å¤–çš„ç©ºé—´ç”¨äºä¿å­˜é“¾æ¥æŒ‡é’ˆ
- ä¸èƒ½éšæœºå­˜å–è¡¨ä¸­çš„ä»»ä¸€èŠ‚ç‚¹
- å¦‚æœæ•°æ®æœ‰åºï¼Œå¯ä½¿ç”¨æŠ˜åŠæœç´¢

#### æ¨¡æ‹ŸæŒ‡é’ˆ

![æ¨¡æ‹ŸæŒ‡é’ˆç¤ºä¾‹](https://s2.loli.net/2023/02/13/73iB5PHdftsvaDT.png)



é‡‡ç”¨ä¸€ä¸ªèŠ‚ç‚¹æ•°ç»„ä»¥åŠå¯¹è¯¥æ•°ç»„è¿›è¡Œç´¢å¼•çš„æ¨¡æ‹ŸæŒ‡é’ˆï¼Œå¯ä»¥ä½¿è®¾è®¡æ›´æ–¹ä¾¿ã€æ›´é«˜æ•ˆã€‚ 

#### é—´æ¥å¯»å€

åœ¨é—´æ¥å¯»å€æ–¹å¼ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆè¡¨æ¥è·Ÿè¸ªæ¯ä¸ªå…ƒç´ ã€‚å¯é‡‡ç”¨ä¸€ä¸ªå…¬å¼æ°´å®šä½æ¯ä¸ªæŒ‡é’ˆçš„ä½ç½®ï¼Œä»¥ä¾¿æ‰¾åˆ°æ‰€éœ€è¦çš„å…ƒç´ ã€‚å…ƒç´ æœ¬èº«å¯èƒ½å­˜å‚¨åœ¨åŠ¨æ€åˆ†é…çš„èŠ‚ç‚¹æˆ–èŠ‚ç‚¹æ•°ç»„ä¸­ã€‚

## æ•°ç»„ä¸çŸ©é˜µ

### çŸ©é˜µçš„æ˜ å°„è®¾è®¡

### ç¨€ç–çŸ©é˜µ

å¯¹ä¸€ä¸ªå¤§å°ä¸º $n$ çš„çŸ©é˜µã€‚

è½¬ç½®å¤æ‚åº¦ä¸º $O(n)$

åŠ æ³•å¤æ‚åº¦ä¸º $O(m + n)$

### ç‰¹æ®ŠçŸ©é˜µ

- å¯¹è§’çŸ©é˜µï¼šä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º`n`çš„ä¸€ç»´æ•°ç»„
- ä¸‰å¯¹è§’çŸ©é˜µï¼šä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º$n + (n - 1) + (n - 1) = 3n - 2$çš„æ•°ç»„æ¥ä¿å­˜ï¼Œå¯ä»¥æŒ‰ç…§è¡Œä¸»æ˜ å°„ã€åˆ—ä¸»æ˜ å°„å’Œ**å¯¹è§’æ˜ å°„**ã€‚
- ä¸‰è§’çŸ©é˜µï¼šä½¿ç”¨é•¿åº¦ä¸º$\frac{n(n+1)}{2}$
- å¯¹ç§°çŸ©é˜µï¼šåªå­˜å‚¨çŸ©é˜µçš„ä¸Šä¸‰è§’æˆ–ä¸‹ä¸‰è§’

#### ä¸‰å¯¹è§’çŸ©é˜µ

å¯¹è§’æ˜ å°„ï¼šæŒ‰ä»ä¸‹å¾€ä¸Šçš„é¡ºåºæ˜ å°„ä¸‰ä¸ªå¯¹è§’çº¿ã€‚

å¯¹è§’çº¿æ˜ å°„å…¬å¼ï¼š

$$
map(i,j) = \left\{\begin{matrix}
  &i-2 & ,i= j+1\\
 (n-1)-1+i &=n+i-2 & ,i=j\\
 (n-1)+n-1+i &=2n+i-2&,i=j-1
\end{matrix}\right.
$$

#### ç­‰å¯¹è§’çŸ©é˜µï¼ˆChapter7.36ï¼‰

ä¸€ä¸ªnxnçš„çŸ©é˜µTç§°ä¸ºç­‰å¯¹è§’çŸ©é˜µï¼ˆToeplitz matrix)ï¼Œå½“ä¸”ä»…å½“å¿ƒ1å’Œï¼Œ1æ—¶ï¼ŒT()= T(i-1ï¼Œ/-1)ã€‚

1ï¼‰è¯æ˜ä¸€ä¸ªnx/çš„ç­‰å¯¹è§’çŸ©é˜µæœ€å¤šæœ‰ 2n-1ä¸ªä¸åŒçš„å…ƒç´ ã€‚

2ï¼‰è®¾è®¡ä¸€ä¸ªæ˜ å°„ï¼ŒæŠŠä¸€ä¸ªç­‰å¯¹è§’çŸ©é˜µæ˜ å°„åˆ°ä¸€ä¸ªé•¿åº¦ä¸º 2n-1 çš„ä¸€ç»´æ•°ç»„ã€‚

3ï¼‰é‡‡ç”¨2ï¼‰çš„æ˜ å°„æ¨¡å¼è®¾è®¡ä¸€ä¸ª C++ç±» toeplitzMatrixï¼Œç”¨ä¸€ä¸ªå¤§å°ä¸º 2n-1 çš„ä¸€ç»´æ•°ç»„æ¥å­˜å‚¨ç­‰å¯¹è§’çŸ©é˜µã€‚åŒ…å« get å’Œ set æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦åº”ä¸º 0(1)ã€‚

4ï¼‰ç¼–å†™ä¸€ä¸ªæˆå‘˜æ–¹æ³•ï¼Œå®ç°ä»¥2ï¼‰æ–¹å¼å­˜å‚¨çš„ä¸¤ä¸ªç­‰å¯¹è§’çŸ©é˜µçš„ä¹˜æ³•ï¼Œç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚ç¡®å®šæ—¶é—´å¤æ‚åº¦ã€‚

## æ ˆ

### åŸºæœ¬å®šä¹‰

![stack](https://oi-wiki.org/ds/images/stack.svg)

æ ˆæ˜¯ OI ä¸­å¸¸ç”¨çš„ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œ*è¯·æ³¨æ„ï¼Œæœ¬æ–‡ä¸»è¦è®²çš„æ˜¯æ ˆè¿™ç§æ•°æ®ç»“æ„ï¼Œè€Œéç¨‹åºè¿è¡Œæ—¶çš„ç³»ç»Ÿæ ˆ/æ ˆç©ºé—´*ã€‚

æ ˆçš„ä¿®æ”¹æ˜¯æŒ‰ç…§åè¿›å…ˆå‡ºçš„åŸåˆ™è¿›è¡Œçš„ï¼Œå› æ­¤æ ˆé€šå¸¸è¢«ç§°ä¸ºæ˜¯åè¿›å…ˆå‡ºï¼ˆlast in first outï¼‰è¡¨ï¼Œç®€ç§° LIFO è¡¨ã€‚

### å®ç°æ–¹å¼

å¯ä»¥é€šè¿‡æ•°ç»„å’Œé“¾è¡¨æ¥æ¨¡æ‹Ÿæ ˆï¼Œä¾‹å¦‚ä½¿ç”¨C++çš„æ•°ç»„æ¥æ¨¡æ‹Ÿï¼š

```c++
int st[N];
// è¿™é‡Œä½¿ç”¨ st[0] (å³ *st) ä»£è¡¨æ ˆä¸­å…ƒç´ æ•°é‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ ˆé¡¶ä¸‹æ ‡

// å‹æ ˆ ï¼š
st[++*st] = var1;

// å–æ ˆé¡¶ ï¼š
int u = st[*st];

// å¼¹æ ˆ ï¼šæ³¨æ„è¶Šç•Œé—®é¢˜, *st == 0 æ—¶ä¸èƒ½ç»§ç»­å¼¹å‡º
if (*st) --*st;

// æ¸…ç©ºæ ˆ
*st = 0;
```

ä¹Ÿå¯ä»¥ä½¿ç”¨`Go`ç¼–å†™ä¸€ä¸ªå¾ˆç®€å•çš„æ ˆç»“æ„ï¼š

```go
// declare a stack
type Stack struct {
	Items []int
}

// push an item to the stack
func (s *Stack) Push(item int) {
	s.Items = append(s.Items, item)
}

// pop an item from the stack
func (s *Stack) Pop() int {
	item := s.Items[len(s.Items)-1]
	s.Items = s.Items[:len(s.Items)-1]
	return item
}

// check if the stack is empty
func (s *Stack) IsEmpty() bool {
	return len(s.Items) == 0
}

// get the top item of the stack
func (s *Stack) Top() int {
	return s.Items[len(s.Items)-1]
}

// get the size of the stack
func (s *Stack) Size() int {
	return len(s.Items)
}

// print the stack
func (s *Stack) Print() {
	fmt.Println(s.Items)
}
```

### åº”ç”¨

æ ˆå‡ ä¹æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚

#### æ‹¬å·åŒ¹é…

åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å·¦ã€å³æ‹¬å·ã€‚

åˆ¤æ–­ $s$ æ˜¯å¦ä¸ºåˆæ³•æ‹¬å·åºåˆ—çš„ç»å…¸æ–¹æ³•æ˜¯è´ªå¿ƒæ€æƒ³ã€‚è¯¥ç®—æ³•åŒæ ·é€‚ç”¨äºå˜ç§æ‹¬å·åºåˆ—ã€‚

æˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œå¯¹äº $i=1,2,\ldots,|s|$ ä¾æ¬¡è€ƒè™‘ï¼š

å¦‚æœ $s_i$ æ˜¯å³æ‹¬å·ä¸”æ ˆéç©ºä¸”æ ˆé¡¶å…ƒç´ æ˜¯ $s_i$ å¯¹åº”çš„å·¦æ‹¬å·ï¼Œå°±å¼¹å‡ºæ ˆé¡¶å…ƒç´ ã€‚
è‹¥ä¸æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œåˆ™å°† $s_i$ å‹å…¥æ ˆä¸­ã€‚
åœ¨éå†æ•´ä¸ª $s$ åï¼Œè‹¥æ ˆæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆ $s$ å°±æ˜¯åˆæ³•æ‹¬å·åºåˆ—ï¼Œå¦åˆ™å°±ä¸æ˜¯ã€‚æ—¶é—´å¤æ‚åº¦ $O(n)$ã€‚

#### æ±‰è¯ºå¡”

```go
// åˆ©ç”¨æ ˆå®ç°æ±‰è¯ºå¡”
func hanoiTowerInStakc(n int) {
	stacks := make([]Stack, 3)
	for i := n; i > 0; i-- {
		stacks[0].Push(i)
	}
	showStacks(stacks)
	moveAndShow(stacks, n, 0, 1, 2)
}

func showStacks(stacks []Stack) {
	for i := 0; i < len(stacks); i++ {
		fmt.Printf("stack %d: ", i)
		stacks[i].Print()
	}
	fmt.Println()
}

func moveAndShow(stacks []Stack, n, from, to, temp int) {
	if n == 1 {
		stacks[to].Push(stacks[from].Pop())
		showStacks(stacks)
	} else {
		moveAndShow(stacks, n-1, from, temp, to)
		stacks[to].Push(stacks[from].Pop())
		showStacks(stacks)
		moveAndShow(stacks, n-1, temp, to, from)
	}
}
```

#### åˆ—è½¦è½¦å¢é‡æ’

è´§è¿åˆ—è½¦å…±æœ‰nèŠ‚è½¦å¢ï¼Œæ¯èŠ‚è½¦å¢å°†åœæ”¾åœ¨ä¸åŒçš„è½¦ç«™ï¼Œnä¸ªè½¦ç«™çš„ç¼–å·åˆ†åˆ«ä¸º1åˆ°nã€‚è´§è¿åˆ—è½¦æŒ‰ç…§ç¬¬nç«™è‡³ç¬¬1ç«™çš„æ¬¡åºç»è¿‡è¿™äº›è½¦ç«™ï¼Œè½¦å¢çš„ç¼–å·ä¸å®ƒä»¬çš„ç›®çš„åœ°ç›¸åŒã€‚é‡æ–°æ’åˆ—è½¦å¢ï¼Œä½¿å„è½¦å¢ä»å‰è‡³åæŒ‰ç¼–å·1åˆ°nçš„æ¬¡åºæ’åˆ—ã€‚

è¦è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦ä½¿ç”¨è‹¥å¹²â€œç¼“å†²é“è½¨â€ï¼Œä»–ä»¬æ˜¯æŒ‰ç…§LIFOæ–¹å¼ä½¿ç”¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å½“ä¸€ä¸ªè½¦å¢è¿›å…¥è½¨é“æ—¶ï¼Œå¯ä»¥é€‰æ‹©è¿›å…¥ä¸€ä¸ªç¼“å†²é“è½¨æˆ–è€…ç›´æ¥å‡ºè½¨ã€‚

ç«è½¦$u$è¿›å…¥ç¼“å†²è½¨é“æ—¶ï¼Œæœ‰è¿™æ ·çš„è§„åˆ™ï¼š

1. $u \lt v$ï¼Œå…¶ä¸­$v$æ˜¯è½¨é“å†…æœ€é¡¶éƒ¨çš„è½¦å¢ç¼–å·ã€‚ç”±äºLIFOçš„æ€§è´¨ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯å°ç¼–å·è½¦å¢å…ˆå‡ºå»ã€‚
2. $v$æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å°çš„ç¼“å†²è½¨é“ã€‚

#### å¼€å…³ç›’å¸ƒçº¿

#### ç¦»çº¿ç­‰ä»·ç±»é—®é¢˜

è¯¦è§å¹¶æŸ¥é›†ã€‚

#### è¿·å®«è€é¼ 

## é˜Ÿåˆ—

æŠ½è±¡ç±»å®šä¹‰ï¼š

```c++
templae<class T>
class queue
{
  public:
    virtual ~queue() { }
    virtual bool empty() const = true;
    virtual int size() const = 0;
    virtual T& front() = 0;
    virtual T& back() = 0;
    virtual void pop() = 0;
    virtual void push(const T& thElement) = 0;
}
```

### æ•°ç»„è¡¨ç¤º

#### ç›´æ¥è¡¨ç¤º

æ˜ å°„å…¬å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š

$$
location(i) = i
$$

![ç›´æ¥è¡¨ç¤º](https://s2.loli.net/2022/10/28/324POuYQj6oGZc8.png)

è¿™ä¼šå¸¦æ¥ä¸¤ä¸ªé—®é¢˜ï¼šæ¯æ¬¡åˆ é™¤åï¼Œéœ€è¦å°†æ‰€æœ‰å…ƒç´ å‘å‰ç§»åŠ¨1ä¸ªä½ç½®ï¼Œå› æ­¤å‡ºé˜Ÿçš„å¤æ‚åº¦ä¸º $O(n)$ã€‚

å…¶`queueFront`æ€»æ˜¯ä¸º`0`ï¼Œ`queueBack`ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œ`empty`çš„æ¡ä»¶æ˜¯`queueBack = -1`ã€‚

#### é—´æ¥å®šä½

æ˜ å°„å…¬å¼ä»é˜Ÿåˆ—å¤´å¼€å§‹æ˜ å°„ï¼š

$$
location(i) = location(firstElement) + i
$$

![å¹³ç§»æ“ä½œ](https://s2.loli.net/2022/10/28/QMYrjwutRKLWBFz.png)

éšä¹‹å¸¦æ¥çš„é—®é¢˜æ˜¯å¯èƒ½å‡ºç°å‰åŠæ®µä¸ºç©ºååŠæ®µæ»¡çš„æƒ…å†µï¼Œè¿™æ—¶å€™æ’å…¥éœ€è¦å°†æ‰€æœ‰å…ƒç´ ç§»åŠ¨åˆ°å‰é¢

`empty()`çš„æ¡ä»¶ä¸º`queueBack < queueFront`ã€‚

#### å¾ªç¯é˜Ÿåˆ—

ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼šéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ•´ä¸ªé˜Ÿåˆ—ä¼šå‘æ•°ç»„çš„å°¾éƒ¨ç§»åŠ¨ï¼Œä¸€æ—¦åˆ°è¾¾æ•°ç»„çš„æœ€æœ«ç«¯ï¼Œå³ä½¿æ•°ç»„çš„å‰ç«¯è¿˜æœ‰ç©ºé—²ä½ç½®ï¼Œå†è¿›è¡Œå…¥é˜Ÿæ“ä½œä¹Ÿä¼šå¯¼è‡´æº¢å‡ºï¼ˆè¿™ç§æ•°ç»„é‡Œå®é™…æœ‰ç©ºé—²ä½ç½®è€Œå‘ç”Ÿäº†ä¸Šæº¢çš„ç°è±¡è¢«ç§°ä¸ºâ€œå‡æº¢å‡ºâ€ï¼‰ã€‚

å¾ªç¯é˜Ÿåˆ—å°†ä¸Šä¸€ç§æ˜ å°„æ–¹å¼é¦–å°¾ç›¸æ¥ï¼Œæ˜ å°„å…¬å¼å˜ä¸ºï¼š

$$
localtion(i) = (location(firstElement) + i) % arrayLength
$$

![å¾ªç¯é˜Ÿåˆ—](https://s2.loli.net/2022/10/28/kCXsKFvU8BjfYrL.png)

å…¶`queueFront`æŒ‡å‘é˜Ÿåˆ—é¦–å…ƒç´ çš„*ä¸‹ä¸€ä¸ª*ä½ç½®ï¼Œ`queueBack`æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ¤å¯¹åˆ—ä¸ºç©ºçš„æ¡ä»¶æ˜¯`queueBack = queueFront`ã€‚è€Œé˜Ÿåˆ—æ»¡çš„æ¡ä»¶åŒæ ·ä¸º`queueBack = queueFront`ã€‚

å› æ­¤æ­¤æ—¶é˜Ÿåˆ—ä¸èƒ½å¡«æ»¡ï¼Œå…¶æœ‰æ•ˆé•¿åº¦åªèƒ½ä¸º`arrayLength - 1`ï¼Œè¿™æ ·çš„è¯é˜Ÿåˆ—æ»¡çš„æ¡ä»¶åˆ™ä¸º`(queueBack + 1) % arrayLength = queueFront`ã€‚

### é“¾è¡¨è¡¨ç¤º

ä½¿ç”¨ä»å¤´åˆ°å°¾çš„æ–¹å¼ç”¨é“¾è¡¨æ„å»ºé˜Ÿåˆ—ï¼š

![é˜Ÿåˆ—çš„é“¾è¡¨è¡¨ç¤º](https://s2.loli.net/2022/10/28/cw1v4dHTZKq7mti.png)

é“¾è¡¨å®ç°ä¸­ï¼Œåº”è¯¥ä½¿ç”¨`queueFront`ä½œä¸ºé¦–æŒ‡é’ˆï¼Œè¿™æ ·å¯ä»¥åœ¨å‡ºé˜Ÿçš„æ—¶å€™å¾—åˆ° $O(1)$ çš„å¤æ‚åº¦ã€‚

### åŒç«¯é˜Ÿåˆ—

åŒç«¯é˜Ÿåˆ—æ˜¯æŒ‡ä¸€ä¸ªå¯ä»¥åœ¨é˜Ÿé¦–/é˜Ÿå°¾æ’å…¥æˆ–åˆ é™¤å…ƒç´ çš„é˜Ÿåˆ—ã€‚ç›¸å½“äºæ˜¯æ ˆä¸é˜Ÿåˆ—åŠŸèƒ½çš„ç»“åˆã€‚å…·ä½“åœ°ï¼ŒåŒç«¯é˜Ÿåˆ—æ”¯æŒçš„æ“ä½œæœ‰ 4 ä¸ªï¼š

- åœ¨é˜Ÿé¦–æ’å…¥ä¸€ä¸ªå…ƒç´ 
- åœ¨é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ 
- åœ¨é˜Ÿé¦–åˆ é™¤ä¸€ä¸ªå…ƒç´ 
- åœ¨é˜Ÿå°¾åˆ é™¤ä¸€ä¸ªå…ƒç´ 

æ•°ç»„æ¨¡æ‹ŸåŒç«¯é˜Ÿåˆ—çš„æ–¹å¼ä¸æ™®é€šé˜Ÿåˆ—ç›¸åŒã€‚

### åº”ç”¨

#### åˆ—è½¦è½¦å¢é‡æ’

#### ç”µè·¯å¸ƒçº¿

#### è¯†åˆ«å›¾å…ƒ

## è·³è¡¨å’Œæ•£åˆ—

Hashå’Œè·³è¡¨çš„ä¼˜ç¼ºç‚¹ï¼š

|   é¡¹ç›® |          Hash          |     è·³è¡¨     |                       å¤‡æ³¨                        |
| -----: | :--------------------: | :----------: | :-----------------------------------------------: |
| å¤æ‚åº¦ |                        | $O(mlog(n))$ |                                                   |
|   å®ç° |                        |              |                                                   |
|   æŸ¥æ‰¾ |                        |              | Redisä¸­çš„æœ‰åºé›†åˆå°±æ˜¯é€šè¿‡è·³è¡¨å®ç°çš„ï¼Œè€Œä¸æ˜¯çº¢é»‘æ ‘ |
|   æ’å…¥ | éœ€è¦è§£å†³æ•£åˆ—å†²çªçš„é—®é¢˜ |              |                                                   |
|   åˆ é™¤ |                        |              |                                                   |

### å­—å…¸/å“ˆå¸Œè¡¨/æ•£åˆ—è¡¨

å“ˆå¸Œè¡¨åˆç§°æ•£åˆ—è¡¨ï¼Œä¸€ç§ä»¥ã€Œkey-valueã€å½¢å¼å­˜å‚¨æ•°æ®çš„æ•°æ®ç»“æ„ã€‚æ‰€è°“ä»¥ã€Œkey-valueã€å½¢å¼å­˜å‚¨æ•°æ®ï¼Œæ˜¯æŒ‡ä»»æ„çš„é”®å€¼ key éƒ½å”¯ä¸€å¯¹åº”åˆ°å†…å­˜ä¸­çš„æŸä¸ªä½ç½®ã€‚åªéœ€è¦è¾“å…¥æŸ¥æ‰¾çš„é”®å€¼ï¼Œå°±å¯ä»¥å¿«é€Ÿåœ°æ‰¾åˆ°å…¶å¯¹åº”çš„ valueã€‚å¯ä»¥æŠŠå“ˆå¸Œè¡¨ç†è§£ä¸ºä¸€ç§é«˜çº§çš„æ•°ç»„ï¼Œè¿™ç§æ•°ç»„çš„ä¸‹æ ‡å¯ä»¥æ˜¯å¾ˆå¤§çš„æ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼Œå­—ç¬¦ä¸²ç”šè‡³ç»“æ„ä½“ã€‚

å­—å…¸å½“ç„¶å¯ä»¥ä½¿ç”¨çº¿æ€§ç»“æ„æè¿°ï¼Œè¿™æ ·å¯¹äºé¡ºåºçš„è¾“å‡ºæ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœè¦è¿›è¡Œéšæœºè¯»å†™å°±ä¼šæœ‰æ–°çš„éº»çƒ¦ã€‚

### è·³è¡¨

è·³è¡¨ (Skip List) æ˜¯ç”± William Pugh å‘æ˜çš„ä¸€ç§æŸ¥æ‰¾æ•°æ®ç»“æ„ï¼Œæ”¯æŒå¯¹æ•°æ®çš„**å¿«é€ŸæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤**ã€‚è·³è¡¨çš„æœŸæœ›ç©ºé—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œè·³è¡¨çš„*æŸ¥è¯¢ï¼Œæ’å…¥å’Œåˆ é™¤*æ“ä½œçš„æœŸæœ›æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $O(\log n)$ã€‚

å‡†ç¡®åœ°è¯´ï¼Œè·³è¡¨æ˜¯å¯¹æœ‰åºé“¾è¡¨çš„æ”¹è¿›ã€‚ä¸€ä¸ªæœ‰åºé“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œï¼Œå°±æ˜¯*ä»å¤´éƒ¨å¼€å§‹é€ä¸ªæ¯”è¾ƒ*ï¼Œç›´åˆ°å½“å‰èŠ‚ç‚¹çš„å€¼å¤§äºæˆ–è€…ç­‰äºç›®æ ‡èŠ‚ç‚¹çš„å€¼ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ“ä½œçš„å¤æ‚åº¦æ˜¯ O(n)ã€‚

è·³è¡¨åœ¨æœ‰åºé“¾è¡¨çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº† **åˆ†å±‚** çš„æ¦‚å¿µã€‚é¦–å…ˆï¼Œ*è·³è¡¨çš„æ¯ä¸€å±‚éƒ½æ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨*ï¼Œç‰¹åˆ«åœ°ï¼Œ*æœ€åº•å±‚æ˜¯åˆå§‹çš„æœ‰åºé“¾è¡¨*ã€‚æ¯ä¸ªä½äºç¬¬ $i$ å±‚çš„èŠ‚ç‚¹æœ‰ $p$ çš„æ¦‚ç‡å‡ºç°åœ¨ç¬¬ $i+1$ å±‚ï¼Œ$p$ ä¸ºå¸¸æ•°ã€‚

è®°åœ¨ $n$ ä¸ªèŠ‚ç‚¹çš„è·³è¡¨ä¸­ï¼ŒæœŸæœ›åŒ…å« $\frac{1}{p}$ ä¸ªå…ƒç´ çš„å±‚ä¸ºç¬¬ $L(n)$ å±‚ï¼Œæ˜“å¾—$L(n) = \log_{\frac{1}{p}}nã€‚$ã€‚

åœ¨è·³è¡¨ä¸­æŸ¥æ‰¾ï¼Œå°±æ˜¯ä»ç¬¬ $L(n)$ å±‚å¼€å§‹ï¼Œ*æ°´å¹³åœ°é€ä¸ªæ¯”è¾ƒç›´è‡³å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å¤§äºç­‰äºç›®æ ‡èŠ‚ç‚¹ï¼Œç„¶åç§»åŠ¨è‡³ä¸‹ä¸€å±‚*ã€‚é‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´è‡³åˆ°è¾¾ç¬¬ä¸€å±‚ä¸”æ— æ³•ç»§ç»­è¿›è¡Œæ“ä½œã€‚æ­¤æ—¶ï¼Œè‹¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œåˆ™æˆåŠŸæŸ¥æ‰¾ï¼›åä¹‹ï¼Œåˆ™å…ƒç´ ä¸å­˜åœ¨ã€‚è¿™æ ·ä¸€æ¥ï¼ŒæŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ä¼šè·³è¿‡ä¸€äº›æ²¡æœ‰å¿…è¦çš„æ¯”è¾ƒï¼Œæ‰€ä»¥ç›¸æ¯”äºæœ‰åºé“¾è¡¨çš„æŸ¥è¯¢ï¼Œè·³è¡¨çš„æŸ¥è¯¢æ›´å¿«ã€‚å¯ä»¥è¯æ˜ï¼Œè·³è¡¨æŸ¥è¯¢çš„å¹³å‡å¤æ‚åº¦ä¸º $O(\log n)$ã€‚

#### è·³è¡¨çš„éšæœºè®¿é—®ä¼˜åŒ–

### æ•£åˆ—è¡¨ï¼ˆP246ï¼‰

æ•£åˆ—(Hashing) :å­—å…¸çš„å¦ä¸€ç§æè¿°æ–¹æ³•å°±æ˜¯æ•£åˆ—.

æ•£åˆ—æ–¹æ³•ï¼šæ˜¯ç”¨ä¸€ä¸ªæ•£åˆ—å‡½æ•°(hash functionåˆç§°å“ˆå¸Œå‡½æ•°)æŠŠå­—å…¸çš„æ•°å¯¹æ˜ å°„åˆ°æ•£åˆ—è¡¨/å“ˆå¸Œè¡¨(hash table)ä¸­çš„å…·ä½“ä½ç½®ã€‚

è¦è®©é”®å€¼å¯¹åº”åˆ°å†…å­˜ä¸­çš„ä½ç½®ï¼Œå°±è¦ä¸ºé”®å€¼è®¡ç®—ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯è®¡ç®—è¿™ä¸ªæ•°æ®åº”è¯¥æ”¾åˆ°å“ªé‡Œã€‚è¿™ä¸ªæ ¹æ®é”®å€¼è®¡ç®—ç´¢å¼•çš„å‡½æ•°å°±å«åšå“ˆå¸Œå‡½æ•°ï¼Œä¹Ÿç§°æ•£åˆ—å‡½æ•°ã€‚åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œé”®å€¼å¯èƒ½æ˜¯æ›´å¤æ‚çš„ä¸œè¥¿ï¼Œæ¯”å¦‚æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€ç»“æ„ä½“ç­‰ï¼Œè¿™æ—¶å€™å°±è¦æ ¹æ®å…·ä½“æƒ…å†µè®¾è®¡åˆé€‚çš„å“ˆå¸Œå‡½æ•°ã€‚å“ˆå¸Œå‡½æ•°åº”å½“æ˜“äºè®¡ç®—ï¼Œå¹¶ä¸”å°½é‡ä½¿è®¡ç®—å‡ºæ¥çš„ç´¢å¼•å‡åŒ€åˆ†å¸ƒã€‚

#### å†²çªå’Œæº¢å‡º

å¦‚æœå¯¹äºä»»æ„çš„é”®å€¼ï¼Œå“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºæ¥çš„ç´¢å¼•éƒ½ä¸ç›¸åŒï¼Œé‚£åªç”¨æ ¹æ®ç´¢å¼•æŠŠ (key, value) æ”¾åˆ°å¯¹åº”çš„ä½ç½®å°±è¡Œäº†ã€‚ä½†å®é™…ä¸Šï¼Œå¸¸å¸¸ä¼šå‡ºç°ä¸¤ä¸ªä¸åŒçš„é”®å€¼ï¼Œä»–ä»¬ç”¨å“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºæ¥çš„ç´¢å¼•æ˜¯ç›¸åŒçš„ã€‚å­˜å‚¨æ¡¶ä¸­è‹¥æ²¡æœ‰ç©ºé—´æ—¶å°±å‘ç”Ÿæº¢å‡ºã€‚

> å½“æ¯ä¸ªæ¡¶åªèƒ½å­˜å‚¨ä¸€ä¸ªæ•°å¯¹æ—¶ï¼Œç¢°æ’å’Œæº¢å‡ºä¼šåŒæ—¶å‘ç”Ÿ

- çº¿æ€§æ¢æŸ¥ï¼šå½“æº¢å‡ºå‘ç”Ÿæ—¶ï¼Œå°†å…ƒç´ æ’å…¥ä¸‹ä¸€ä¸ªå¯ç”¨æ¡¶ä¸­ã€‚åœ¨å¯»æ‰¾ä¸‹ä¸€ä¸ªå¯ç”¨æ¡¶æ—¶ï¼Œè¡¨è¢«è§†ä¸ºç¯å½¢çš„ã€‚
- é“¾å¼æ•£åˆ—

çº¿æ€§æ¢æŸ¥ï¼ˆçº¿æ€§å¼€å‹å¯»å€ã€å¼€æ”¾å¯»å€æ³•ï¼‰çš„æ€è·¯å¦‚ä¸‹ï¼š

- æ’å…¥ï¼š

  ```shell
  # è®¡ç®—f(k)
  # æ£€æŸ¥list[f(k)]æ˜¯å¦ä¸ºç©ºï¼Œå¦åˆ™å‘åç§»åŠ¨ç›´åˆ°ä¸€ä¸ªç©ºæ¡¶
  # list[f(k) + m] = k
  ```

- æŸ¥æ‰¾ï¼š

  ```shell
  # è®¡ç®—f(k)
  # f(k) ?= kï¼Œè‹¥å¦åˆ™å‘åç§»åŠ¨ï¼Œç›´åˆ°
  # 1. f(k) = k
  # 2. é‡åˆ°ä¸€ä¸ªç©ºæ¡¶
  # 3. å›åˆ°èµ·å§‹æ¡¶
  # è¿”å›ç»“æœæˆ–è€…æ•°æ®ä¸å­˜åœ¨
  ```

- åˆ é™¤ï¼š

  ```shell
  # æŸ¥æ‰¾
  # list[f(k)] ?= f(k)ï¼Œè‹¥æ˜¯ï¼Œç›´æ¥åˆ é™¤
  # è‹¥ä¸æ˜¯ï¼Œå…ˆåˆ é™¤ï¼Œç„¶åå‘åç§»åŠ¨å¹¶åˆ¤æ–­ list[f(k) + m] ?= f(k)ï¼Œè‹¥æ˜¯åˆ™å‘å‰ç§»åŠ¨ï¼Œç›´åˆ°ä¸€ä¸ªç©ºæ¡¶æˆ–åˆå§‹æ¡¶
  ```

#### LZWå‹ç¼©

åŸºäºåŸå§‹æ•°æ®ï¼Œåˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸ä¸­æ‰€å­˜æ”¾çš„æ˜¯æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸²ä¸å…¶ç¼–ç çš„æ˜ å°„ã€‚ç„¶åï¼Œç”¨å­—å…¸ä¸­çš„ç¼–ç æ¥ä»£æ›¿åŸå§‹æ•°æ®ä¸­çš„ç›¸åº”å­—ç¬¦ä¸²ã€‚

LZWè§„åˆ™ï¼š

- å¼€å§‹ï¼Œä¸ºè¯¥æ–‡æœ¬æ–‡ä»¶ä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„å­—æ¯åˆ†é…ä¸€ä¸ªä»£ç ï¼Œæ„æˆåˆå§‹å­—å…¸ã€‚
- LZWå‹ç¼©å™¨ä¸æ–­åœ°åœ¨è¾“å…¥æ–‡ä»¶çš„æœªç¼–ç éƒ¨åˆ†ä¸­å¯»æ‰¾åœ¨å­—å…¸ä¸­å‡ºç°çš„æœ€é•¿çš„å‰ç¼€pï¼Œè¾“å‡ºå‰ç¼€pç›¸åº”çš„ä»£ç ï¼Œè‹¥è¾“å…¥æ–‡ä»¶ä¸­çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ºcï¼Œåˆ™ä¸ºpcåˆ†é…ä¸€ä¸ªä»£ç ï¼Œå¹¶æ’å…¥å­—å…¸ã€‚

## äºŒå‰æ ‘

### æ ‘çš„åŸºæœ¬æ¦‚å¿µå’Œæè¿°

çº¿æ€§æ•°æ®ç»“æ„å’Œè¡¨æ•°æ®ç»“æ„ä¸€èˆ¬ä¸é€‚åˆäºæè¿°å…·æœ‰å±‚æ¬¡ç»“æ„çš„æ•°æ®ã€‚

- æ ‘(tree)tæ˜¯ä¸€ä¸ªéç©ºçš„æœ‰é™å…ƒç´ çš„é›†åˆã€‚
- å…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸º**æ ¹(root)**ã€‚
- å…¶ä½™çš„å…ƒç´ (å¦‚æœæœ‰çš„è¯)ç»„æˆtçš„å­æ ‘(subtrees).

çº§(level)/å±‚æ¬¡ï¼šæŒ‡å®šï¼Œå…¶å­©å­(å¦‚æœæœ‰)çš„çº§ä¸º2ã€‚

äºŒå‰æ ‘çš„é«˜åº¦(height)æˆ–æ·±åº¦(depth)æ˜¯æŒ‡è¯¥äºŒå‰æ ‘çš„çº§æ•°(æˆ–å±‚æ•°)ã€‚

å…ƒç´ çš„**åº¦(Degree of an element)** æ˜¯æŒ‡å…¶å­©å­çš„ä¸ªæ•°ã€‚æ ‘çš„åº¦(The degree of a tree) æ˜¯å…¶å…ƒç´ åº¦çš„æœ€å¤§å€¼ã€‚

#### äºŒå‰æ ‘å’Œæ ‘çš„åŒºåˆ«

äºŒå‰æ ‘( binary tree) æ˜¯æœ‰é™ä¸ªå…ƒç´ çš„é›†åˆ(**å¯ä»¥ä¸ºç©º**)ã€‚

- äºŒå‰æ ‘**å¯ä»¥ä¸ºç©º**ï¼Œä½†*æ ‘ä¸èƒ½ä¸ºç©º*ã€‚
- äºŒå‰æ ‘ä¸­*æ¯ä¸ªå…ƒç´ éƒ½æ°å¥½æœ‰ä¸¤æ£µå­æ ‘(å…¶ä¸­ä¸€ä¸ªæˆ–ä¸¤ä¸ªå¯èƒ½ä¸ºç©º)*ã€‚è€Œæ ‘ä¸­æ¯ä¸ªå…ƒç´ å¯æœ‰ä»»æ„å¤šä¸ªå­æ ‘ã€‚
- åœ¨äºŒå‰æ ‘ä¸­*æ¯ä¸ªå…ƒç´ çš„å­æ ‘éƒ½æ˜¯æœ‰åºçš„*ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ç”¨å·¦ã€å³å­æ ‘æ¥åŒºåˆ«ã€‚è€Œæ ‘çš„å­æ ‘é—´æ˜¯æ— åºçš„ã€‚

ä¸€æ£µåº¦ä¸º2çš„æ ‘å’Œä¸€æ£µäºŒå‰æ ‘çš„åŒºåˆ«ï¼š

- åº¦ä¸º2çš„æ ‘è¦æ±‚æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸¤æ£µå­æ ‘ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤æ£µå­æ ‘ã€‚äºŒå‰æ ‘çš„è¦æ±‚æ˜¯åº¦ä¸è¶…è¿‡2ï¼ŒèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå‰ï¼Œå¯ä»¥æ˜¯1æˆ–è€…0ã€‚
- åº¦ä¸º2çš„æ ‘æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä½†åˆ†æ”¯æ²¡æœ‰å·¦å³ä¹‹åˆ†ï¼›ä¸€æ£µäºŒå‰æ ‘ä¹Ÿæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä½†æœ‰å·¦å³ä¹‹åˆ†ï¼Œå·¦å³å­æ ‘çš„æ¬¡åºä¸èƒ½éšæ„é¢ å€’ã€‚
- åº¦ä¸º2çš„æ ‘ä»å½¢å¼ä¸Šçœ‹ä¸äºŒå‰æ ‘å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒçš„å­æ ‘æ˜¯æ— åºçš„ï¼Œè€ŒäºŒå‰æ ‘æ˜¯æœ‰åºçš„ã€‚å³ï¼Œåœ¨ä¸€èˆ¬æ ‘ä¸­è‹¥æŸç»“ç‚¹åªæœ‰ä¸€ä¸ªå­©å­ï¼Œå°±æ— éœ€åŒºåˆ†å…¶å·¦å³æ¬¡åºï¼Œè€Œåœ¨äºŒå‰æ ‘ä¸­å³ä½¿æ˜¯ä¸€ä¸ªå­©å­ä¹Ÿæœ‰å·¦å³ä¹‹åˆ†ã€‚

### äºŒå‰æ ‘çš„æ€§è´¨

1. åŒ…å«nä¸ªå…ƒç´ çš„äºŒå‰æ ‘çš„è¾¹æ•°ä¸ºn-1
2. è‹¥äºŒå‰æ ‘çš„é«˜åº¦ä¸ºhï¼Œåˆ™è¿™æ£µæ ‘æœ€å°‘æœ‰hä¸ªå…ƒç´ ï¼Œæœ€å¤šæœ‰2^h-1ä¸ªå…ƒç´ 
3. è‹¥äºŒå‰æ ‘åŒ…å«çš„å…ƒç´ ä¸ªæ•°ä¸ºnï¼Œåˆ™è¿™æ£µæ ‘é«˜åº¦æœ€å°ä¸ºïƒ©[log2(n+1))]ï¼Œæœ€å¤§ä¸ºn

å½“é«˜åº¦ä¸ºhçš„äºŒå‰æ ‘æ°å¥½æœ‰2^h-1ä¸ªå…ƒç´ æ—¶ï¼Œç§°å…¶ä¸º**æ»¡äºŒå‰æ ‘(full binary tree)**ã€‚

ä»æ»¡äºŒå‰æ ‘ä¸­åˆ é™¤kä¸ªå…ƒç´ ï¼Œå…¶ç¼–å·ä¸º2^h-i, 1â‰¤iâ‰¤kï¼Œæ‰€å¾—åˆ°çš„äºŒå‰æ ‘è¢«ç§°ä¸º**å®Œå…¨äºŒå‰æ ‘(complete binary tree)**ã€‚

> æ»¡äºŒå‰æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚

![å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§å››](https://s2.loli.net/2022/11/03/2uYkaZfG36MeVFi.png)

### äºŒå‰æ ‘çš„éå†

è®¸å¤šäºŒå‰æ ‘æ“ä½œæ˜¯é€šè¿‡å¯¹äºŒå‰æ ‘è¿›è¡Œéå†æ¥å®Œæˆã€‚åœ¨äºŒå‰æ ‘çš„éå†ä¸­ï¼Œæ¯ä¸ªå…ƒç´ éƒ½è¢«è®¿é—®åˆ°ä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚

åœ¨è®¿é—®æ—¶æ‰§è¡Œå¯¹è¯¥å…ƒç´ çš„ç›¸åº”æ“ä½œ(å¤åˆ¶ã€åˆ é™¤ã€è¾“å‡ºç­‰)ã€‚

æœ‰å››ç§éå†äºŒå‰æ ‘çš„æ–¹æ³•ï¼šå‰åºéå†ã€ä¸­åºéå†ã€ååºéå†ã€é€å±‚éå†ã€‚

> ä¸­åºéå†+å‰åº/ååºéå†ï¼Œå°±å¯ä»¥ç”»å‡ºä¸€ä¸ªäºŒå‰æ ‘ã€‚
>
> å…·ä½“æ¥è®²ï¼Œé¦–å…ˆé€šè¿‡åœ¨å‰åºã€ååºåºåˆ—ä¸­æ‰¾åˆ°æœ€å‰é¢ã€æœ€åé¢çš„å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå¹¶ä»¥è¯¥å…ƒç´ åŒºåˆ†ä¸­åºåºåˆ—çš„ä¸¤ä¾§ï¼Œåˆ†åˆ«æ˜¯å·¦å³ä¸¤é¢—å­æ ‘ï¼›æŒ‰ç…§è¿™ä¸ªæ–¹å¼é€’å½’å°±å¯ä»¥ç”»å‡ºæ•´ä¸ªäºŒå‰æ ‘ã€‚

![éå†ç¤ºä¾‹](https://s2.loli.net/2022/11/03/NPxHS8bXwrEgoMi.png)

å¯¹äºè¡¨è¾¾å¼äºŒå‰æ ‘ï¼Œæˆ‘ä»¬å°†å¾—åˆ°çš„ä¸‰ç§åºåˆ—åˆ†åˆ«ç§°ä¸ºè¡¨è¾¾å¼çš„å‰ç¼€ã€ä¸­ç¼€å’Œåç¼€å½¢å¼ã€‚

![è¡¨è¾¾å¼äºŒå‰æ ‘éå†](https://s2.loli.net/2022/11/03/sDg36ed8qPLbVi2.png)

> è¡¨è¾¾å¼çš„ä¸­ç¼€å½¢å¼å­˜åœ¨æ­§ä¹‰ï¼Œé€šå¸¸ä½¿ç”¨åç¼€å½¢å¼é…åˆæ ˆè¿›è¡Œè®¡ç®—ã€‚

#### å‰åºéå†

```c++
template <class E>
void preOrder(binaryTreeNode<E> *t)
{ //å‰åºéå†äºŒå‰æ ‘*t
    if (t != NULL)
    {
        visit(t);                //è®¿é—®æ ¹èŠ‚ç‚¹
        preOrder(t->leftChild);  //å‰åºéå†å·¦å­æ ‘
        preOrder(t->rightChild); //å‰åºéå†å³å­æ ‘
    }
}
```

éé€’å½’å®ç°ï¼š

```c++
template <class T>
void PreOrder(binaryTreeNode<T> *t) //å¯¹*tè¿›è¡Œå‰åºéå†
{
    stack<binaryTreeNode<T> *> s(MaxLength);
    binaryTreeNode<T> *p = t;
    do
    {
        while (p)
        {
            // å…ˆè®¿é—®æ¯ä¸€ä¸ªæ ¹ç»“ç‚¹
            Visit(p);
            s.push(p);
            p = p->LeftChild;
        }
        if (!s.IsEmpty())
        {
            p = s.top();
            s.pop();
            p = p->RightChild;
        }
    } while (p || !s.IsEmpty())
}
```

#### ä¸­åºéå†

![ä¸­åºéå†äºŒå‰æ ‘å›¾ç¤º](https://s2.loli.net/2022/11/03/tJnEdOuah1Z2Uyg.png)

```c++
template <class E>
void inOrder(binaryTreeNode<E> *t)
{ //ä¸­åºéå†äºŒå‰æ ‘*t
    if (t != NULL)
    {
        inOrder(t->leftChild);  //ä¸­åºéå†å·¦å­æ ‘
        visit(t);               //è®¿é—®æ ¹èŠ‚ç‚¹
        inOrder(t->rightChild); //ä¸­åºéå†å³å­æ ‘ 
    }
}
```

éé€’å½’å®ç°ï¼š

```c++
template <class T>
void InOrder(binaryTreeNode<T> *t) //å¯¹*tè¿›è¡Œä¸­åºéå†
{
    // ä½¿ç”¨ä¸€ä¸ªæ ˆä¿å­˜è®¿é—®ä¿¡æ¯
    stack<BinaryTreeNode<T> *> s(MaxLength);
    BinaryTreeNode<T> *p = t;
    do
    {
        // å…ˆå°†æ‰€æœ‰çš„æ ¹ğŸª¢ç‚¹å…¥æ ˆ
        while (p)
        {
            s.push(p);
            p = p->LeftChild;
        }
        // é€ä¸ªå–å‡ºæ ¹ç»“ç‚¹ï¼Œå…ˆè®¿é—®å·¦å­æ ‘å†è®¿é—®å³å­æ ‘
        if (!s.IsEmpty())
        {
            p = s.top();
            s.pop();
            Visit(p);
            p = p->RightChild;
        }
    } while (p || !s.IsEmpty())
}
```

#### ååºéå†

```c++
template <class E>
void postOrder(binaryTreeNode<E> *t)
{ //ååºéå†äºŒå‰æ ‘*t
    if (t != NULL)
    {
        postOrder(t->leftChild);  //ååºéå†å·¦å­æ ‘
        postOrder(t->rightChild); //ååºéå†å³å­æ ‘
        visit(t);                 //è®¿é—®æ ¹èŠ‚ç‚¹
    }
}
```

éé€’å½’å®ç°ï¼š

```c++
template <class T>
void PostOrder(binaryTreeNode<T> *t) //å¯¹*tè¿›è¡Œä¸­åºéå†
{
    stack<binaryTreeNode<T> *> s(MaxLength);
    int flag;
    stack<int> flagStack; //å­˜æ”¾æ ‡å¿—ä½çš„æ ˆï¼Œæ¯å‡ºï¼ˆå…¥ï¼‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆï¼ŒåŒæ­¥å‡ºï¼ˆå…¥ï¼‰ 
    binaryTreeNode<T> *p = t;
    do
    {
        while (p)
        {
            s.push(p);
            flagStack.push(1);
            p = p->LeftChild;
        }
        if (!s.IsEmpty())
        {
            p = s.top();
            flag = flagStack.top();
            if (p->RightChild && flag == 1)
            {
                flagStack.pop();
                flagStack.push(2);
                p = p->RightChild;
            }
            else
            {
                s.pop();
                flagStack.pop();
                Visit(p);
                p = 0;
            }
        }
    } while (p || !s.IsEmpty())
}
```

#### å±‚æ¬¡éå†

```c++
template <class E>
void levelOrder(binaryTreeNode<E> *t)
{ //å±‚æ¬¡éå†äºŒå‰æ ‘*t
    arrayQueue<binaryTreeNode<E> *> q;
    while (t != NULL)
    {
        visit(t); //è®¿é—®t
        //å°†tçš„å·¦å³å­©å­æ”¾å…¥é˜Ÿåˆ—
        if (t->leftChild)
            q.push(t->LeftChild);
        if (t->rightChild)
            q.push(t->rightChild);
        try
        {
            t = q.front();
        } //è®¿é—®ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ .
        catch (queueEmpty)
        {
            return;
        }
        q.pop();
    }
}
```

éé€’å½’å®ç°ï¼š

```c++
template <class T>
void LevelOrder(T a[], int last)
{
    // Level-order traversal of a binary tree. 
    LinkedQueue<int> Q;
    if (!last)
        return; // empty tree 
    int i = 1;
    // start at root
    while (true)
    {
        Visit(a, i);
        // put children on queue
        if (2 * i <= last && a[2 * i])
            Q.Add(2 * i); // add left child
        if (2 * i + 1 <= last && a[2 * i + 1])
            Q.Add(2 * i + 1); // add right child
        // get next node to visit
        try
        {
            Q.Delete(i);
        }
        catch (OutOfBounds)
        {
            return;
        }
    }
}
```

### äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„

- æ•°ç»„è¡¨ç¤ºï¼šé€‚åˆè¡¨è¾¾æ¯”è¾ƒæ»¡çš„äºŒå‰æ ‘ï¼ˆå®Œå…¨äºŒå‰æ ‘/æ»¡äºŒå‰æ ‘ï¼‰
- é“¾è¡¨è¡¨ç¤ºï¼š

#### äºŒå‰æ ‘çš„æ•°ç»„è¡¨ç¤º

äºŒå‰æ ‘çš„æ•°ç»„è¡¨ç¤ºå°†äºŒå‰æ ‘è¡¨ç¤ºä¸ºç¼ºå°‘äº†éƒ¨åˆ†å…ƒç´ çš„å®Œå…¨äºŒå‰æ ‘ã€‚

#### äºŒå‰æ ‘çš„é“¾è¡¨è¡¨ç¤º

èŠ‚ç‚¹å®šä¹‰ï¼š

```c++
template<class T>
struct binaryTreeNode
{
  T element;
  binaryTreeNode<T> * leftChild, rightChild;

  binaryTreeNode() {leftchild = rightChild = nullptr;}
  binaryTreeNode(const T& theElement) {
    this.element(theElement);
    leftChild = rightChild = nullptr;
  }
  binaryTreeNode(const T& theElement,
                binaryTreeNode *theLeftChild,
                binarytreeNode *theRighChild) {
    this.element(theElement);
    leftchild = theLeftChild;
    rightChild = theRightChild;
  }
}
```

### äºŒå‰æ ‘çš„ç¼–å†™

åŸºæœ¬å†…å®¹ï¼š

```c++
template <class E>
class linkedBinaryTreeï¼špublic binaryTree<binaryTreeNode<E>>
{
public:
    linkedBinaryTree()
    {
        root = NULL;
        treeSize = 0;
    };
    ~BinaryTree(){erase()};
    bool empty() const { reurn treeSize == 0; }
    void preOrder(void (*theVisit)(binaryTreeNode<E> *))
    {
        visit = theVisit;
        preOrder(root);
    }
    void inOrder(void (*theVisit)(binaryTreeNode<E> *))
    {
        visit = theVisit;
        inOrder(root);
    }
    void postOrder(void (*theVisit)(binaryTreeNode<E> *))
    {
        visit = theVisit;
        postOrder(root);
    }
    void levelOrder(void (*)(binaryTreeNode<E> *));
    void erase();
    {
        postOrder(dispose);
        root = NULL;
        treeSize = 0;
    }

private:
    binaryTreeNode<E> *root;                   //æ ¹èŠ‚ç‚¹æŒ‡é’ˆ
    int treeSize;                              //æ•°çš„å…ƒç´ ä¸ªæ•°
    static void (*visit)(binaryTreeNode<E> *); //è®¿é—®å‡½æ•°
    static void preOrder(binaryTreeNode<E> *t);
    static void inOrder(binaryTreeNode<E> *t);
    static void postOrder(binaryTreeNode<E> *t);
    static void dispose(binaryTreeNode<E> *t){delete t}; //åˆ é™¤tæŒ‡å‘çš„èŠ‚ç‚¹
}
```

#### éå†

```c++
template <class E>
void linkedBinaryTree<E>::preOrder(binaryTreeNode<E> *t)
{ //å‰åºéå†äºŒå‰æ ‘*t
    if (t != NULL)
    {
        linkedBinaryTree<E>::visit(t); //è®¿é—®æ ¹èŠ‚ç‚¹
        preOrder(t->leftChild);        //å‰åºéå†å·¦å­æ ‘
        preOrder(t->rightChild);       //å‰åºéå†å³å­æ ‘
    }
}

template <class E>
void linkedBinaryTree<E>::levelOrder(
    void (*theVisit)(binaryTreeNode<E> *))
{ //å±‚æ¬¡éå†äºŒå‰æ ‘
    binaryTreeNode<E> *t = root;
    arrayQueue<binaryTreeNode<E> *> q;
    while (t != NULL)
    {
        theVisit(t); //è®¿é—®t
        //å°†tçš„å·¦å³å­©å­æ”¾å…¥é˜Ÿåˆ—
        if (t->leftChild)
            q.push(t->LeftChild);
        if (t->rightChild)
            q.push(t->rightChild);
        try
        {
            t = q.front();
        } //è®¿é—®ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ .
        catch (queueEmpty)
        {
            return;
        }
        q.pop();
    }
}
```

#### è¾“å‡º

```c++
private:
// ...
  static void output(binaryTreeNode<E> *t)
    {
      cout << t->element << ' ';
    }

public:
  // ...
  void preOrderOutput()
  {
      preOrder(output);
      cout << endl;
  }
  void inOrderOutput()
  {
      inOrder(output);
      cout << endl;
  }
  void postOrderOutput()
  {
      postOrder(output);
      cout << endl;
  }
  void levelOutput()
  {
      levelOrder(output);
      cout << endl;
  }
```

#### è®¡ç®—é«˜åº¦

```c++
public: 
  int Height( ) const {return height (root);}
privateï¼š 
  int height (binaryTreeNode<E> *t) const;

template <class E>
int linkedBinaryTree<E>::height(BinaryTreeNode<E> *t)
{                                   //è¿”å›äºŒå‰æ ‘*tçš„é«˜åº¦
    If(t == NULL) return 0;         // ç©ºæ ‘
    int hl = height(t->leftChild);  // å·¦å­æ ‘çš„é«˜åº¦
    int hr = height(t->rightChild); // å³å­æ ‘çš„é«˜åº¦
    if (hl > hr)
        return ++hl;
    else
        return ++hr;
}
```

#### ç»Ÿè®¡èŠ‚ç‚¹æ•°é‡

å…ˆåº(æˆ–ä¸­åºæˆ–ååº)éå†äºŒå‰æ ‘ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­ç»Ÿè®¡ç»“ç‚¹ã€‚ç”±æ­¤ï¼Œéœ€åœ¨éå†ç®—æ³•ä¸­å¢æ·»ä¸€ä¸ªâ€œè®¡æ•°â€çš„å‚æ•°ï¼Œå¹¶å°†ç®—æ³•ä¸­â€œè®¿é—®ç»“ç‚¹â€çš„æ“ä½œæ”¹ä¸º:è®¡æ•°å™¨å¢1ã€‚

```c++
public:
  int Size()
  {
      _count = 0;
      PreOrder(Add1ï¼Œroot);
      return _count;
  }

private:
  static void Add1(binaryTreeNode<T> *t) { _count++; }
```

åªç»Ÿè®¡å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼š

```c++
public:
int Size()
{
    _count = 0;
    PreOrder(Add2, root);
    return _count;
}

private:
static void Add2(binaryTreeNode<T> *t)
{
    if (!t->LeftChild && !t->RightChild)
        _count++;
}
```

#### äºŒå‰æ ‘çš„å¤åˆ¶

å…¶åŸºæœ¬æ“ä½œä¸ºï¼šç”Ÿæˆä¸€ä¸ªç»“ç‚¹ã€‚

è¿›è¡Œ BFS éå†ã€‚

#### æœ€è¿‘å…¬å…±ç¥–å…ˆ

æ±‚äºŒå‰æ ‘ä¸¤èŠ‚ç‚¹çš„LCAï¼ˆæœ€è¿‘å…¬å…±ç¥–å…ˆï¼‰ï¼ˆå¿…é¡»è¦ä¼š+å¸¸è€ƒï¼‰+æ±‚å¶å­èŠ‚ç‚¹åˆ°LCAçš„è·ç¦»+æ±‚ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ï¼š

## ä¼˜å…ˆé˜Ÿåˆ—

ä¼˜å…ˆé˜Ÿåˆ—æœªå¿…é å †å®ç°ï¼Œä½¿ç”¨çº¿æ€§è¡¨ä¿å­˜æƒé‡ä¹Ÿå¯ä»¥åšåˆ°ã€‚ä½†æ˜¯å †æ›´å¿«ã€‚

### äºŒå‰å †

å †æ˜¯ä¸€æ£µ**æ ‘**ï¼Œå…¶æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé”®å€¼ï¼Œä¸”**æ¯ä¸ªèŠ‚ç‚¹çš„é”®å€¼éƒ½å¤§äºç­‰äº/å°äºç­‰äºå…¶çˆ¶äº²çš„é”®å€¼**ã€‚æ¯ä¸ªèŠ‚ç‚¹çš„é”®å€¼éƒ½å¤§äºç­‰äºå…¶çˆ¶äº²é”®å€¼çš„å †å«åšå°æ ¹å †ï¼Œå¦åˆ™å«åšå¤§æ ¹å †ã€‚

äºŒå‰å †æ˜¯ä¸€æ£µ**äºŒå‰æ ‘**ï¼Œå¹¶ä¸”æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œæ¯ä¸ªç»“ç‚¹ä¸­å­˜æœ‰ä¸€ä¸ªå…ƒç´ ï¼ˆæˆ–è€…è¯´ï¼Œæœ‰ä¸ªæƒå€¼ï¼‰ã€‚

#### æ’å…¥

æ’å…¥æ“ä½œæ˜¯æŒ‡å‘äºŒå‰å †ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œè¦ä¿è¯æ’å…¥åä¹Ÿæ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚

æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ï¼Œæœ€ä¸‹ä¸€å±‚æœ€å³è¾¹çš„å¶å­ä¹‹åæ’å…¥ã€‚å¦‚æœæœ€ä¸‹ä¸€å±‚å·²æ»¡ï¼Œå°±æ–°å¢ä¸€å±‚ã€‚

> æ’å…¥ä¹‹åå¯èƒ½ä¼šä¸æ»¡è¶³å †æ€§è´¨ï¼Ÿ
>
> å‘ä¸Šè°ƒæ•´ï¼šå¦‚æœè¿™ä¸ªç»“ç‚¹çš„æƒå€¼å¤§äºå®ƒçˆ¶äº²çš„æƒå€¼ï¼Œå°±äº¤æ¢ï¼Œé‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°ä¸æ»¡è¶³æˆ–è€…åˆ°æ ¹ã€‚

å¯ä»¥è¯æ˜ï¼Œæ’å…¥ä¹‹åå‘ä¸Šè°ƒæ•´åï¼Œæ²¡æœ‰å…¶ä»–ç»“ç‚¹ä¼šä¸æ»¡è¶³å †æ€§è´¨ã€‚å‘ä¸Šè°ƒæ•´çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(\log n)$ çš„ã€‚

![å †çš„æ’å…¥](https://oi-wiki.org/ds/images/binary_heap_insert.svg)

#### åˆ é™¤

åˆ é™¤æ“ä½œæŒ‡åˆ é™¤å †ä¸­æœ€å¤§çš„å…ƒç´ ï¼Œå³åˆ é™¤æ ¹ç»“ç‚¹ã€‚

ä½†æ˜¯å¦‚æœç›´æ¥åˆ é™¤ï¼Œåˆ™å˜æˆäº†ä¸¤ä¸ªå †ï¼Œéš¾ä»¥å¤„ç†ã€‚æ‰€ä»¥ä¸å¦¨è€ƒè™‘æ’å…¥æ“ä½œçš„é€†è¿‡ç¨‹ï¼Œè®¾æ³•å°†æ ¹ç»“ç‚¹ç§»åˆ°æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œç„¶åç›´æ¥åˆ æ‰ã€‚ç„¶è€Œå®é™…ä¸Šä¸å¥½åšï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼ŒæŠŠæ ¹ç»“ç‚¹å’Œæœ€åä¸€ä¸ªç»“ç‚¹ç›´æ¥äº¤æ¢ã€‚äºæ˜¯ç›´æ¥åˆ æ‰ï¼ˆåœ¨æœ€åä¸€ä¸ªç»“ç‚¹å¤„çš„ï¼‰æ ¹ç»“ç‚¹ï¼Œä½†æ˜¯æ–°çš„æ ¹ç»“ç‚¹å¯èƒ½ä¸æ»¡è¶³å †æ€§è´¨â€¦â€¦

> å‘ä¸‹è°ƒæ•´ï¼šåœ¨è¯¥ç»“ç‚¹çš„å„¿å­ä¸­ï¼Œæ‰¾ä¸€ä¸ªæœ€å¤§çš„ï¼Œä¸è¯¥ç»“ç‚¹äº¤æ¢ï¼Œé‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°åº•å±‚ã€‚

å¯ä»¥è¯æ˜ï¼Œåˆ é™¤å¹¶å‘ä¸‹è°ƒæ•´åï¼Œæ²¡æœ‰å…¶ä»–ç»“ç‚¹ä¸æ»¡è¶³å †æ€§è´¨ã€‚æ—¶é—´å¤æ‚åº¦ $O(\log n)$ã€‚

#### å»ºå †

è€ƒè™‘è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œä»ä¸€ä¸ªç©ºçš„å †å¼€å§‹ï¼Œæ’å…¥ $n$ ä¸ªå…ƒç´ ï¼Œä¸åœ¨ä¹é¡ºåºã€‚ç›´æ¥ä¸€ä¸ªä¸€ä¸ªæ’å…¥éœ€è¦ $O(n \log n)$ çš„æ—¶é—´

ä½¿ç”¨å‘ä¸Šè°ƒæ•´ï¼Œéœ€è¦$O(n \log n)$çš„æ—¶é—´ã€‚

ä½¿ç”¨å‘ä¸‹è°ƒæ•´åªéœ€è¦$O(n)$ã€‚ä»å¶å­å¼€å§‹ï¼Œé€ä¸ªå‘ä¸‹è°ƒæ•´ï¼›æ¢ä¸€ç§ç†è§£æ–¹æ³•ï¼Œæ¯æ¬¡ã€Œåˆå¹¶ã€ä¸¤ä¸ªå·²ç»è°ƒæ•´å¥½çš„å †ï¼Œè¿™è¯´æ˜äº†æ­£ç¡®æ€§ã€‚

### å·¦åæ ‘

å·¦åæ ‘ ä¸ é…å¯¹å † ä¸€æ ·ï¼Œæ˜¯ä¸€ç§ å¯å¹¶å †ï¼Œå…·æœ‰å †çš„æ€§è´¨ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿåˆå¹¶ã€‚

å·¦åæ ‘æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒä¸ä»…å…·æœ‰å †çš„æ€§è´¨ï¼Œå¹¶ä¸”æ˜¯ã€Œå·¦åã€çš„ï¼šæ¯ä¸ªèŠ‚ç‚¹å·¦å„¿å­çš„ $\mathrm{dist}$ éƒ½å¤§äºç­‰äºå³å„¿å­çš„ $\mathrm{dist}$ã€‚å› æ­¤ï¼Œå·¦åæ ‘æ¯ä¸ªèŠ‚ç‚¹çš„ $\mathrm{dist}$ éƒ½ç­‰äºå…¶å³å„¿å­çš„ $\mathrm{dist}$ åŠ ä¸€ã€‚

#### åˆå¹¶

åˆå¹¶ä¸¤ä¸ªå †æ—¶ï¼Œç”±äºè¦æ»¡è¶³å †æ€§è´¨ï¼Œå…ˆå–å€¼è¾ƒå°ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œæœ¬æ–‡è®¨è®ºå°æ ¹å †ï¼‰çš„é‚£ä¸ªæ ¹*ä½œä¸ºåˆå¹¶åå †çš„æ ¹èŠ‚ç‚¹*ï¼Œç„¶åå°†*è¿™ä¸ªæ ¹çš„å·¦å„¿å­ä½œä¸ºåˆå¹¶åå †çš„å·¦å„¿å­*ï¼Œ*é€’å½’åœ°åˆå¹¶å…¶å³å„¿å­ä¸å¦ä¸€ä¸ªå †*ï¼Œä½œä¸ºåˆå¹¶åçš„å †çš„å³å„¿å­ã€‚ä¸ºäº†æ»¡è¶³å·¦åæ€§è´¨ï¼Œåˆå¹¶åè‹¥å·¦å„¿å­çš„ $\mathrm{dist}$ å°äºå³å„¿å­çš„ $\mathrm{dist}$ï¼Œå°±äº¤æ¢ä¸¤ä¸ªå„¿å­ã€‚

### åº”ç”¨)

#### å †æ’åº

å †æ’åºï¼ˆè‹±è¯­ï¼šHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨ äºŒå‰å † è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚å †æ’åºçš„é€‚ç”¨æ•°æ®ç»“æ„ä¸ºæ•°ç»„ã€‚**å †æ’åºçš„æœ¬è´¨æ˜¯å»ºç«‹åœ¨å †ä¸Šçš„é€‰æ‹©æ’åº**ã€‚

é¦–å…ˆå»ºç«‹å¤§é¡¶å †ï¼Œç„¶åå°†å †é¡¶çš„å…ƒç´ å–å‡ºï¼Œä½œä¸ºæœ€å¤§å€¼ï¼Œä¸æ•°ç»„å°¾éƒ¨çš„å…ƒç´ äº¤æ¢ï¼Œå¹¶ç»´æŒæ®‹ä½™å †çš„æ€§è´¨ï¼›ä¹‹åå°†å †é¡¶çš„å…ƒç´ å–å‡ºï¼Œä½œä¸ºæ¬¡å¤§å€¼ï¼Œä¸æ•°ç»„å€’æ•°ç¬¬äºŒä½å…ƒç´ äº¤æ¢ï¼Œå¹¶ç»´æŒæ®‹ä½™å †çš„æ€§è´¨ï¼›ä»¥æ­¤ç±»æ¨ï¼Œåœ¨ç¬¬ $n-1$ æ¬¡æ“ä½œåï¼Œæ•´ä¸ªæ•°ç»„å°±å®Œæˆäº†æ’åºã€‚

ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å°†æ¯ä¸€å±‚çš„èŠ‚ç‚¹æ’åˆ—åœ¨æ•°ç»„é‡Œã€‚äºæ˜¯æœ‰æ•°ç»„ä¸­ä¸‹æ ‡ä¸º $i$ çš„èŠ‚ç‚¹ï¼Œå¯¹åº”çš„çˆ¶ç»“ç‚¹ã€å·¦å­ç»“ç‚¹å’Œå³å­ç»“ç‚¹å¦‚ä¸‹ï¼š

```bash
iParent(i) = (i - 1) / 2;
iLeftChild(i) = 2 * i + 1;
iRightChild(i) = 2 * i + 2;
```

#### éœå¤«æ›¼ç¼–ç 

éœå¤«æ›¼ç¼–ç (Huffman code)æ˜¯å¦å¤–ä¸€ç§æ–‡æœ¬å‹ç¼©ç®—æ³•ï¼Œå®ƒæ ¹æ®ä¸åŒç¬¦å·åœ¨ä¸€æ®µæ–‡å­—ä¸­çš„ç›¸å¯¹å‡ºç°é¢‘ç‡æ¥è¿›è¡Œå‹ç¼©ç¼–ç ã€‚

å½“æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡æœ‰å¾ˆå¤§å˜åŒ–æ—¶ï¼Œå¯ä»¥é€šè¿‡å¯å˜é•¿çš„ç¼–ç æ¥é™ä½ç¼–ç ä¸²çš„é•¿åº¦ã€‚å½“é¢‘ç‡ç›¸å·®å¤§æ—¶è¿™ç§å·®åˆ«ä¼šæ›´ä¸ºæ˜æ˜¾ã€‚

> è‹¥ä½¿ç”¨å¯å˜é•¿ç¼–ç ï¼Œç¼–ç éœ€è¦æ»¡è¶³ï¼šæ²¡æœ‰ä»»ä½•ä¸€ä¸ªä»£ç æ˜¯å¦ä¸€ä»£ç çš„å‰ç¼€

éœå¤«æ›¼æ ‘å¯ç”¨äºæ„é€  æœ€çŸ­çš„å‰ç¼€ç¼–ç ï¼Œå³ éœå¤«æ›¼ç¼–ç ï¼ˆHuffman Codeï¼‰

## æœç´¢æ ‘

å¹³å‡æœç´¢é•¿åº¦ï¼š$\sigma^n_{i=0}f(i) / node_countï¼Œf(i)ä¸ºè¯¥èŠ‚ç‚¹çš„æŸ¥æ‰¾æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ·±åº¦$

### ç®€ä»‹

æœç´¢æ ‘(Search Trees) æ˜¯ä¸€ç§é€‚åˆäº**æè¿°å­—å…¸**çš„æ ‘å½¢ç»“æ„ã€‚

- æ¯”è·³è¡¨å’Œæ•£åˆ—è¡¨æœ‰æ›´å¥½æˆ–ç±»ä¼¼çš„æ€§èƒ½
- ç‰¹åˆ«æ˜¯å¯¹äº*é¡ºåºè®¿é—®æˆ–æŒ‰æ’åè®¿é—®*ï¼Œæ•£åˆ—è¡¨å®ç°æ—¶é—´æ€§èƒ½å·®ï¼Œä½¿ç”¨æœç´¢æ ‘å®ç°åˆ™ä¼šæœ‰æ›´å¥½çš„æ—¶é—´æ€§èƒ½ã€‚

äºŒå‰æœç´¢æ ‘æ˜¯ä¸€æ£µå¯èƒ½ä¸ºç©ºçš„äºŒå‰æ ‘ï¼Œä¸€æ£µéç©ºçš„äºŒå‰æœç´¢æ ‘æ»¡è¶³ä»¥ä¸‹ç‰¹å¾ï¼š

1. æ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå…³é”®å­—ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»æ„ä¸¤ä¸ªå…ƒç´ æœ‰ç›¸åŒçš„å…³é”®å­—ï¼›å› æ­¤ï¼Œæ‰€æœ‰çš„å…³é”®å­—éƒ½æ˜¯å”¯ä¸€çš„ã€‚
2. ä»»ä½•èŠ‚ç‚¹å·¦å­æ ‘çš„å…³é”®å­—å°äºè¯¥èŠ‚ç‚¹çš„å…³é”®å­—ï¼›ä»»ä½•èŠ‚ç‚¹å³å­æ ‘çš„å…³é”®å­—å¤§äºè¯¥èŠ‚ç‚¹çš„å…³é”®å­—ã€‚

ç´¢å¼•äºŒå‰æœç´¢æ ‘å®šä¹‰ï¼š

- äºŒå‰æœç´¢æ ‘
- åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­æ·»åŠ ä¸€ä¸ª â€˜LeftSizeâ€™â€”è¯¥èŠ‚ç‚¹å·¦å­æ ‘çš„å…ƒç´ ä¸ªæ•°
- LeftSizeï¼ˆxï¼‰ï¼šç»™å‡ºäº†ä¸€ä¸ªå…ƒç´ åœ¨xä¸ºæ ¹çš„å­æ ‘ä¸­æ’å(0èµ·å§‹)

### æœç´¢æ ‘çš„æ’å…¥

è‹¥åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ eï¼Œé¦–å…ˆæœç´¢ï¼ŒéªŒè¯e çš„å…³é”®å€¼æ˜¯å¦å­˜åœ¨å¦‚æœæœç´¢æˆåŠŸï¼Œé‚£ä¹ˆæ–°å…ƒç´ å°†ä¸è¢«æ’å…¥ï¼›å¦‚æœæœç´¢ä¸æˆåŠŸï¼Œé‚£ä¹ˆæ–°å…ƒç´ å°†è¢«æ’å…¥åˆ°æœç´¢çš„ä¸­æ–­ç‚¹ã€‚

### æœç´¢æ ‘çš„åˆ é™¤

äºŒå‰æœç´¢æ ‘çš„æ’å…¥æœ‰ä¸‰ç§æƒ…å†µï¼šå¶å­ç»“ç‚¹çš„åˆ é™¤ã€åªæœ‰ä¸€æ£µå­æ ‘ç»“ç‚¹çš„åˆ é™¤å’Œæœ‰ä¸¤æ£µå­æ ‘ç»“ç‚¹çš„åˆ é™¤ã€‚

- å¶å­ç»“ç‚¹çš„åˆ é™¤å¯ä»¥ç›´æ¥ä¸¢å¼ƒã€‚
- åªæœ‰ä¸€æ£µå­æ ‘ç»“ç‚¹ï¼šè‹¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œç›´æ¥ä¸¢å¼ƒï¼›å¦åˆ™è®©å…¶çˆ¶èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘è¯¥èŠ‚ç‚¹çš„å”¯ä¸€å­èŠ‚ç‚¹ã€‚
- æœ‰ä¸¤æ£µå­æ ‘ç»“ç‚¹çš„åˆ é™¤åªéœ€å°†*è¯¥å…ƒç´ æ›¿æ¢ä¸ºå®ƒçš„å·¦å­æ ‘ä¸­çš„æœ€å¤§å…ƒç´ æˆ–å³å­æ ‘ä¸­çš„æœ€å°å…ƒç´ *ã€‚

## å¹³è¡¡æœç´¢æ ‘

### AVLæ ‘

AVL æ ‘ï¼Œæ˜¯ä¸€ç§å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚ç”±äºå„ç§ç®—æ³•æ•™æä¸Šå¯¹ AVL çš„ä»‹ç»ååˆ†å†—é•¿ï¼Œé€ æˆäº†å¾ˆå¤šäººå¯¹ AVL æ ‘å¤æ‚ã€ä¸å®ç”¨çš„å°è±¡ã€‚ä½†å®é™…ä¸Šï¼ŒAVL æ ‘çš„åŸç†ç®€å•ï¼Œå®ç°ä¹Ÿå¹¶ä¸å¤æ‚ã€‚

**å¹³è¡¡å› å­**ï¼šå³å­æ ‘é«˜åº¦ - å·¦å­æ ‘é«˜åº¦ã€‚

AVLæ ‘ç›¸æ¯”äºäºŒå‰æœç´¢æ ‘ï¼Œç‰¹ç‚¹åœ¨äºå¦‚æœ T æ˜¯ä¸€æ£µ AVL æ ‘ï¼Œé‚£ä¹ˆå…¶å·¦å³å­æ ‘ä¹Ÿæ˜¯ AVL æ ‘ï¼Œå¹¶ä¸” $|h(ls) - h(rs)| \leq 1$ï¼Œ$h$ æ˜¯å…¶å·¦å³å­æ ‘çš„é«˜åº¦ã€‚ä¸ºäº†ç»´æŠ¤è¿™ä¸ªæ€§è´¨ï¼Œéœ€è¦æ²¿ç€ä»è¢«æ’å…¥/åˆ é™¤çš„èŠ‚ç‚¹åˆ°æ ¹çš„è·¯å¾„å¯¹æ ‘è¿›è¡Œç»´æŠ¤ã€‚

å…¶æ’å…¥æ—¶çš„è°ƒæ•´æœ‰å››ç§æƒ…å†µï¼š

- LL
- LR
- RR
- RL

åˆ é™¤æ—¶æ ¹æ®ç›´æ¥çˆ¶èŠ‚ç‚¹çš„å¹³è¡¡å› å­ï¼Œæœ‰å…­ç§æƒ…å†µï¼š

- R0
- R1
- R-1
- L0
- L1
- L-1

### çº¢é»‘æ ‘

### Bæ ‘ï¼ˆP381ï¼‰

åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒB æ ‘ï¼ˆB-treeï¼‰æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„æ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºã€‚è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿè®©æŸ¥æ‰¾æ•°æ®ã€é¡ºåºè®¿é—®ã€æ’å…¥æ•°æ®åŠåˆ é™¤çš„åŠ¨ä½œï¼Œéƒ½åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆã€‚

> ç”±äºä¸‰é˜¶Bæ ‘æœ‰ä¸¤ä¸ªæˆ–ä¸‰ä¸ªå­èŠ‚ç‚¹ï¼Œæ‰€ä»¥åˆè¢«ç§°ä¸º2-3æ ‘ï¼›åŒç†å››é˜¶Bæ ‘ä¹Ÿè¢«ç§°ä¸º2-3-4æ ‘
>
> AVL æ ‘æ˜¯ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ˜¯æœ€æ—©è¢«å‘æ˜çš„è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ã€‚B æ ‘ä¿ç•™äº†è‡ªå¹³è¡¡çš„ç‰¹ç‚¹ï¼Œ**ä½† B æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æ‹¥æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„å­èŠ‚ç‚¹**ï¼Œå› æ­¤ B æ ‘æ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘ã€‚

è®¾må‰æœç´¢æ ‘çš„é«˜åº¦ä¸º$h$ï¼Œå­˜åœ¨å…³ç³»$h \leq n \leq m^h-1$ï¼Œæœç´¢ã€æ’å…¥å’Œåˆ é™¤æ“ä½œéœ€è¦çš„ç£ç›˜è®¿é—®æ¬¡æ•°ä¸º$O(h)$ã€‚ä¸ºä¿è¯æ“ä½œæ€§èƒ½ï¼Œå¿…é¡»ç¡®ä¿é«˜åº¦å€¼æ¥è¿‘äº$log[m(n+1)]$ã€‚

**må‰æœç´¢æ ‘ä¸mé˜¶Bæ ‘æ˜¯ä¸åŒçš„**ã€‚

- Bæ ‘è¦æ±‚æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹è‡³å°‘æœ‰ $\frac{m}{2}ä¸Šå–æ•´$ ä¸ªå­©å­ã€‚
- æ ¹èŠ‚ç‚¹è‡³å°‘æœ‰2ä¸ªå­©å­ã€‚
- æ‰€æœ‰å¤–éƒ¨èŠ‚ç‚¹ä½äºåŒä¸€å±‚ä¸Šï¼ˆå› æ­¤Bæ ‘æ˜¯ä¸€æ£µæ»¡äºŒå‰æ ‘ï¼‰ã€‚

å¯¹äºBæ ‘ï¼Œè®¾$d = \frac{m}{2}çš„ä¸Šå–æ•´$ï¼Œå­˜åœ¨æ€§è´¨:

$$
\begin{array}
    & 2d^{h-1} - 1 \leq n \leq m^h - 1 \\
    & \log_m(n+1) \leq h \leq log_d(\frac{n+1}{2}) + 1
\end{array}
$$

å®é™…ä¸Šï¼ŒBæ ‘çš„åºå–å†³äºç£ç›˜å—çš„å¤§å°å’Œå•ä¸ªå…ƒç´ çš„å¤§å°ã€‚èŠ‚ç‚¹å°äºç£ç›˜å—çš„å¤§å°å¹¶æ— å¥½å¤„ï¼Œè¿™æ˜¯å› ä¸ºæ¯æ¬¡ç£ç›˜è®¿é—®åªè¯»æˆ–å†™ä¸€ä¸ªå—ã€‚èŠ‚ç‚¹å¤§äºç£ç›˜å—çš„å¤§å°ä¼šå¸¦æ¥å¤šé‡ç£ç›˜è®¿é—®ï¼Œæ¯æ¬¡ç£ç›˜è®¿é—®éƒ½ä¼´éšä¸€æ¬¡æœç´¢å’Œæ—¶é—´å»¶è¿Ÿï¼Œå› æ­¤èŠ‚ç‚¹å¤§äºç£ç›˜å—çš„å¤§å°ä¹Ÿæ˜¯ä¸å¯å–çš„ã€‚

- æœç´¢æ—¶ï¼Œç£ç›˜è®¿é—®æ¬¡æ•°æœ€å¤šæ˜¯$h$ã€‚

- åˆ é™¤æ—¶ï¼Œæœ€åæƒ…å†µä¸‹ç£ç›˜è®¿é—®æ¬¡æ•°æ˜¯$3h$ã€‚

  > 1. æ‰¾åˆ°åŒ…å«è¢«åˆ é™¤å…ƒç´ çš„èŠ‚ç‚¹: $h$æ¬¡è¯»è®¿é—®
  > 2. è·å–ç¬¬2è‡³h å±‚çš„æœ€ç›¸é‚»å…„å¼Ÿ: $h-1$æ¬¡è¯»è®¿é—®
  > 3. åœ¨ç¬¬3è‡³hå±‚çš„åˆå¹¶: $h-2$æ¬¡å†™è®¿é—®
  > 4. å¯¹ä¿®æ”¹è¿‡çš„æ ¹èŠ‚ç‚¹å’Œç¬¬2å±‚çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼š$3$æ¬¡å†™è®¿é—®ã€‚

## å›¾

### å›¾çš„å­˜å‚¨

å‡ ç§æ–¹æ³•çš„å¤æ‚åº¦æ¯”è¾ƒ(nä¸ºç‚¹æ•°ï¼Œmä¸ºè¾¹æ•°)ï¼š

|   æ–¹æ³•   | æŸ¥è¯¢æ˜¯å¦å­˜åœ¨è¾¹ | éå†ç‚¹çš„æ‰€æœ‰å‡ºè¾¹ | éå†æ•´å¼ å›¾ | ç©ºé—´å¤æ‚åº¦ |
| :------: | :------------: | :--------------: | :--------: | :--------: |
| ç›´æ¥å­˜è¾¹ |     $O(m)$     |      $O(m)$      |  $O(nm)$   |   $O(m)$   |
| é‚»æ¥çŸ©é˜µ |     $O(1)$     |      $O(n)$      |  $O(n^2)$  |  $O(n^2)$  |
|  é‚»æ¥è¡¨  |  $O(d^+(u))$   |   $O(d^+(u))$    |  $O(n+m)$  |   $O(m)$   |

#### ç›´æ¥å­˜è¾¹

ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜è¾¹ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½åŒ…å«ä¸€æ¡è¾¹çš„èµ·ç‚¹ä¸ç»ˆç‚¹ï¼ˆå¸¦è¾¹æƒçš„å›¾è¿˜åŒ…å«è¾¹æƒï¼‰ã€‚ï¼ˆæˆ–è€…ä½¿ç”¨å¤šä¸ªæ•°ç»„åˆ†åˆ«å­˜èµ·ç‚¹ï¼Œç»ˆç‚¹å’Œè¾¹æƒã€‚ï¼‰

```python
class Edge:
    u = 0
    v = 0

n, m = map(lambda x:int(x), input().split())

e = [Edge()] * m; vis = [False] * n

for i in range(0, m):
    e[i].u, e[i].v = map(lambda x:int(x), input().split())

def find_edge(u, v):
    for i in range(1, m + 1):
        if e[i].u == u and e[i].v == v:
            return True
    return False

def dfs(u):
    if vis[u]:
        return
    vis[u] = True
    for i in range(1, m + 1):
        if e[i].u == u:
            dfs(e[i].v)
```

ç”±äºç›´æ¥å­˜è¾¹çš„éå†æ•ˆç‡ä½ä¸‹ï¼Œ**ä¸€èˆ¬ä¸ç”¨äºéå†å›¾**ã€‚åœ¨ **Kruskal ç®—æ³•** ä¸­ï¼Œç”±äºéœ€è¦å°†è¾¹æŒ‰è¾¹æƒæ’åºï¼Œéœ€è¦ç›´æ¥å­˜è¾¹ã€‚

åœ¨æœ‰çš„é¢˜ç›®ä¸­ï¼Œéœ€è¦å¤šæ¬¡å»ºå›¾ï¼ˆå¦‚å»ºä¸€éåŸå›¾ï¼Œå»ºä¸€éåå›¾ï¼‰ï¼Œæ­¤æ—¶æ—¢å¯ä»¥ä½¿ç”¨å¤šä¸ªå…¶å®ƒæ•°æ®ç»“æ„æ¥åŒæ—¶å­˜å‚¨å¤šå¼ å›¾ï¼Œä¹Ÿå¯ä»¥å°†è¾¹ç›´æ¥å­˜ä¸‹æ¥ï¼Œéœ€è¦é‡æ–°å»ºå›¾æ—¶åˆ©ç”¨ç›´æ¥å­˜ä¸‹çš„è¾¹æ¥å»ºå›¾ã€‚

#### é‚»æ¥çŸ©é˜µ

ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ `adj` æ¥å­˜è¾¹ï¼Œå…¶ä¸­ `adj[u][v]` ä¸º `1` è¡¨ç¤ºå­˜åœ¨ `u` åˆ° `v` çš„è¾¹ï¼Œä¸º `0` è¡¨ç¤ºä¸å­˜åœ¨ã€‚å¦‚æœæ˜¯å¸¦è¾¹æƒçš„å›¾ï¼Œå¯ä»¥åœ¨ `adj[u][v]` ä¸­å­˜å‚¨ u åˆ° v çš„è¾¹çš„è¾¹æƒã€‚

```python
vis = [False] * (n + 1)
adj = [[False]] * (n + 1)

for i in range(1, m + 1):
    u, v = map(lambda x:int(x), input().split())
    adj[u][v] = True

def find_edge(u, v):
    return adj[u][v]

def dfs(u):
    if vis[u]:
        return
    vis[u] = True
    for v in range(1, n + 1):
        if adj[u][v]:
            dfs(v)
```

é‚»æ¥çŸ©é˜µåªé€‚ç”¨äº**æ²¡æœ‰é‡è¾¹ï¼ˆæˆ–é‡è¾¹å¯ä»¥å¿½ç•¥ï¼‰**çš„æƒ…å†µã€‚

å…¶æœ€æ˜¾è‘—çš„ä¼˜ç‚¹æ˜¯å¯ä»¥ $O(1)$ **æŸ¥è¯¢ä¸€æ¡è¾¹æ˜¯å¦å­˜åœ¨**ã€‚

ç”±äºé‚»æ¥çŸ©é˜µåœ¨ç¨€ç–å›¾ä¸Šæ•ˆç‡å¾ˆä½ï¼ˆå°¤å…¶æ˜¯åœ¨ç‚¹æ•°è¾ƒå¤šçš„å›¾ä¸Šï¼Œé€šå¸¸å¯ä»¥ä»¥100ä¸ªç‚¹ä¸ºç•Œï¼Œæ­¤æ—¶ç©ºé—´æ— æ³•æ‰¿å—ï¼‰ï¼Œæ‰€ä»¥ä¸€èˆ¬*åªä¼šåœ¨ç¨ å¯†å›¾ä¸Šä½¿ç”¨é‚»æ¥çŸ©é˜µ*ã€‚

#### é‚»æ¥è¡¨

ä½¿ç”¨ä¸€ä¸ª*æ”¯æŒåŠ¨æ€å¢åŠ å…ƒç´ çš„æ•°æ®ç»“æ„æ„æˆçš„æ•°ç»„*ï¼Œå¦‚ $vector<int> adj[n + 1]$ æ¥å­˜è¾¹ï¼Œå…¶ä¸­ $adj[u]$ å­˜å‚¨çš„æ˜¯ç‚¹ $u$ çš„**æ‰€æœ‰å‡ºè¾¹***çš„ç›¸å…³ä¿¡æ¯ï¼ˆç»ˆç‚¹ã€è¾¹æƒç­‰ï¼‰*ã€‚

```python
vis = [False] * (n + 1)
adj = [[]] * (n + 1)

for i in range(1, m + 1):
    u, v = map(lambda x:int(x), input().split())
    adj[u].append(v)

def find_edge(u, v):
    for i in range(0, len(adj[u])):
        if adj[u][i] == v:
            return True
    return False

def dfs(u):
    if vis[u]:
        return
    vis[u] = True
    for i in range(0, len(adj[u])):
        dfs(adj[u][i])
```

å­˜å„ç§å›¾éƒ½å¾ˆé€‚åˆï¼Œé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼ˆå¦‚éœ€è¦å¿«é€ŸæŸ¥è¯¢ä¸€æ¡è¾¹æ˜¯å¦å­˜åœ¨ï¼Œä¸”ç‚¹æ•°è¾ƒå°‘ï¼Œå¯ä»¥ä½¿ç”¨é‚»æ¥çŸ©é˜µï¼‰ã€‚

å°¤å…¶é€‚ç”¨äºéœ€è¦**å¯¹ä¸€ä¸ªç‚¹çš„æ‰€æœ‰å‡ºè¾¹è¿›è¡Œæ’åº**çš„åœºåˆã€‚

### å›¾çš„éå†

é€šå¸¸ï¼Œå¯¹å›¾ä½¿ç”¨DFSä¸ºä¸»ï¼Œç›¸åº”å­˜å‚¨æ–¹å¼ä¸‹çš„DFSå®ç°åœ¨ä¸Šæ–‡å·²ç»ç»™å‡ºï¼Œè¿™é‡Œä»…è¡¥å……BFSã€‚

ä»ä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ï¼Œè¯†åˆ«æ‰€æœ‰å¯åˆ°è¾¾é¡¶ç‚¹çš„æ–¹æ³•å«ä½œå®½åº¦ä¼˜å…ˆæœç´¢ (Breadth -FirstSearchï¼Œ BFS)ã€‚è¿™ç§æœç´¢å¯ä½¿ç”¨**é˜Ÿåˆ—**æ¥å®ç°ã€‚

å™è¿°å›¾çš„æ·±åº¦ä¼˜å…ˆéå†å’Œå®½åº¦ä¼˜å…ˆéå†ä¸­ï¼Œå †æ ˆå’Œé˜Ÿåˆ—çš„ä½œç”¨ï¼š

- æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•æ˜¯å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæ¥ç€éå†å·¦å­æ ‘å†éå†å³å­æ ‘ã€‚å› ä¸ºæ ˆæ˜¯åè¿›å…ˆå‡ºçš„ç»“æ„ï¼Œå…ˆå°†å³å­æ ‘å‹æ ˆï¼Œå†å°†å·¦å­æ ‘å‹æ ˆï¼Œè¿™æ ·å·¦å­æ ‘å°±ä½äºæ ˆé¡¶ï¼Œå¯ä»¥ä¿è¯å…ˆéå†å·¦å­æ ‘å†éå†å³å­æ ‘ã€‚
- ä¸€å±‚ä¸€å±‚éå†çš„ï¼Œæ‰€ä»¥ä½¿ç”¨é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„ï¼Œå…ˆå°†ä¸€å±‚èŠ‚ç‚¹æ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œå½“éå†å®Œå½“å‰è¿™ä¸€å±‚åï¼Œå†åˆ†åˆ«å‡ºé˜Ÿåˆ—ï¼ŒåŒæ—¶éå†å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œè¾¾åˆ°ä¸€å±‚ä¸€å±‚éå†çš„ç›®çš„ã€‚è‹¥ä½¿ç”¨æ ˆï¼Œå‹å…¥ç¬¬äºŒå±‚æ—¶ï¼Œå‡ºæ ˆå°±æ— æ³•æŒ‰ç…§æ­£å¸¸é¡ºåºè¾“å‡ºäº†ã€‚

#### é“¾å¼å‰å‘æ˜Ÿ

æœ¬è´¨ä¸Šæ˜¯ç”¨é“¾è¡¨å®ç°çš„é‚»æ¥è¡¨

### æ‹“æ‰‘æ’åºï¼ˆP428ï¼‰

æ‹“æ‰‘æ’åºè¦è§£å†³çš„é—®é¢˜æ˜¯ç»™ä¸€ä¸ªå›¾çš„æ‰€æœ‰èŠ‚ç‚¹æ’åºã€‚æ‹“æ‰‘æ’åºçš„ç›®æ ‡æ˜¯å°†æ‰€æœ‰èŠ‚ç‚¹æ’åºï¼Œä½¿å¾—æ’åœ¨å‰é¢çš„èŠ‚ç‚¹ä¸èƒ½ä¾èµ–äºæ’åœ¨åé¢çš„èŠ‚ç‚¹ã€‚

> æˆ‘ä»¬å¯ä»¥æ‹¿å¤§å­¦é€‰è¯¾çš„ä¾‹å­æ¥æè¿°è¿™ä¸ªè¿‡ç¨‹ï¼Œæ¯”å¦‚å­¦ä¹ å¤§å­¦è¯¾ç¨‹ä¸­æœ‰ï¼šå•å˜é‡å¾®ç§¯åˆ†ï¼Œçº¿æ€§ä»£æ•°ï¼Œç¦»æ•£æ•°å­¦æ¦‚è¿°ï¼Œæ¦‚ç‡è®ºä¸ç»Ÿè®¡å­¦æ¦‚è¿°ï¼Œè¯­è¨€åŸºç¡€ï¼Œç®—æ³•å¯¼è®ºï¼Œæœºå™¨å­¦ä¹ ã€‚å½“æˆ‘ä»¬æƒ³è¦å­¦ä¹  ç®—æ³•å¯¼è®º çš„æ—¶å€™ï¼Œå°±å¿…é¡»å…ˆå­¦ä¼š ç¦»æ•£æ•°å­¦æ¦‚è¿° å’Œ æ¦‚ç‡è®ºä¸ç»Ÿè®¡å­¦æ¦‚è¿°ï¼Œä¸ç„¶åœ¨è¯¾å ‚å°±ä¼šå¬çš„ä¸€è„¸æ‡µé€¼ã€‚å½“ç„¶è¿˜æœ‰ä¸€ä¸ªæ›´åŠ å‰çš„è¯¾ç¨‹ å•å˜é‡å¾®ç§¯åˆ†ã€‚è¿™äº›è¯¾ç¨‹å°±ç›¸å½“äºå‡ ä¸ªé¡¶ç‚¹ $u$, é¡¶ç‚¹ä¹‹é—´çš„æœ‰å‘è¾¹ $(u,v)$ å°±ç›¸å½“äºå­¦ä¹ è¯¾ç¨‹çš„é¡ºåºã€‚æ˜¾ç„¶æ‹“æ‰‘æ’åºä¸æ˜¯é‚£ä¹ˆçš„éº»çƒ¦ï¼Œä¸ç„¶ä½ æ˜¯å¦‚ä½•é€‰å‡ºåˆé€‚çš„å­¦ä¹ é¡ºåºã€‚ä¸‹é¢å°†ä»‹ç»å¦‚ä½•å°†è¿™ä¸ªè¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼Œç”¨ç®—æ³•æ¥å®ç°ã€‚
>
> ä½†æ˜¯å¦‚æœæŸä¸€å¤©æ’è¯¾çš„è€å¸ˆæ‰“çŒç¡äº†ï¼Œè¯´æƒ³è¦å­¦ä¹  ç®—æ³•å¯¼è®ºï¼Œè¿˜å¾—å…ˆå­¦ æœºå™¨å­¦ä¹ ï¼Œè€Œ æœºå™¨å­¦ä¹  çš„å‰ç½®è¯¾ç¨‹åˆæ˜¯ ç®—æ³•å¯¼è®ºï¼Œç„¶åä½ å°±ä¸€ä¸‡è„¸æ‡µé€¼äº†ï¼Œæˆ‘åˆ°åº•åº”è¯¥å…ˆå­¦å“ªä¸€ä¸ªï¼Ÿå½“ç„¶æˆ‘ä»¬åœ¨è¿™é‡Œä¸è€ƒè™‘ä»€ä¹ˆåŒæ—¶å­¦å‡ ä¸ªè¯¾ç¨‹çš„æƒ…å†µã€‚åœ¨è¿™é‡Œï¼Œç®—æ³•å¯¼è®º å’Œ æœºå™¨å­¦ä¹  é—´å°±å‡ºç°äº†ä¸€ä¸ªç¯ï¼Œæ˜¾ç„¶ä½ ç°åœ¨æ²¡åŠæ³•å¼„æ¸…æ¥šä½ éœ€è¦å­¦ä»€ä¹ˆäº†ï¼Œäºæ˜¯ä½ ä¹Ÿæ²¡åŠæ³•è¿›è¡Œæ‹“æ‰‘æ’åºäº†ã€‚å› è€Œå¦‚æœæœ‰å‘å›¾ä¸­å­˜åœ¨ç¯è·¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ²¡åŠæ³•è¿›è¡Œ æ‹“æ‰‘æ’åº äº†ã€‚

åˆå§‹çŠ¶æ€ä¸‹ï¼Œé›†åˆ $S$ è£…ç€æ‰€æœ‰å…¥åº¦ä¸º $0$ çš„ç‚¹ï¼Œ$L$ æ˜¯ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚æ¯æ¬¡ä» $S$ ä¸­å–å‡ºä¸€ä¸ªç‚¹ $u$ï¼ˆå¯ä»¥éšä¾¿å–ï¼‰æ”¾å…¥ $L$, ç„¶åå°† $u$ çš„æ‰€æœ‰è¾¹ $(u, v_1), (u, v_2), (u, v_3) \cdots$ åˆ é™¤ã€‚å¯¹äºè¾¹ $(u, v)$ï¼Œè‹¥å°†è¯¥è¾¹åˆ é™¤åç‚¹ $v$ çš„å…¥åº¦å˜ä¸º $0$ï¼Œåˆ™å°† $v$ æ”¾å…¥ $S$ ä¸­ã€‚

ä¸æ–­é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°é›†åˆ $S$ ä¸ºç©ºã€‚æ£€æŸ¥å›¾ä¸­æ˜¯å¦å­˜åœ¨ä»»ä½•è¾¹ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå›¾ä¸€å®šæœ‰ç¯è·¯ï¼Œå¦åˆ™è¿”å› $L$ï¼Œ$L$ ä¸­é¡¶ç‚¹çš„é¡ºåºå°±æ˜¯æ‹“æ‰‘æ’åºçš„ç»“æœã€‚

æ‹“æ‰‘æ’åºéœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹åˆå§‹åŒ–åº¦æ•°ï¼Œå¹¶åœ¨æ’åºè¿‡ç¨‹ä¸­éå†æ‰€æœ‰çš„è¾¹ï¼Œæ‰€ä»¥å¤æ‚åº¦ä¸º $O(E+V)$ã€‚

Kahn(BFS)å®ç°ï¼š

```c++
int n, m;
vector<int> G[MAXN];
int in[MAXN];  // å­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„å…¥åº¦

bool toposort() {
  vector<int> L;
  queue<int> S;
  for (int i = 1; i <= n; i++)
    if (in[i] == 0) S.push(i);
  while (!S.empty()) {
    int u = S.front();
    S.pop();
    L.push_back(u);
    for (auto v : G[u]) {
      if (--in[v] == 0) {
        S.push(v);
      }
    }
  }
  if (L.size() == n) {
    for (auto i : L) cout << i << ' ';
    return true;
  } else {
    return false;
  }
}
```

```python
from enum import Enum, auto


class Status(Enum):
    to_visit = auto()
    visiting = auto()
    visited = auto()


def topo_sort(graph: list[list[int]]) -> list[int] | None:
    n = len(graph)
    status = [Status.to_visit] * n
    order = []

    def dfs(u: int) -> bool:
        status[u] = Status.visiting
        for v in graph[u]:
            if status[v] == Status.visiting:
                return False
            if status[v] == Status.to_visit and not dfs(v):
                return False
        status[u] = Status.visited
        order.append(u)
        return True

    for i in range(n):
        if status[i] == Status.to_visit and not dfs(i):
            return None

    return order[::-1]
```

### æœ€çŸ­è·¯é—®é¢˜

#### Floyd

Floydç®—æ³•æ˜¯ç”¨æ¥æ±‚ä»»æ„ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯çš„ã€‚å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œä½†æ˜¯å¸¸æ•°å°ï¼Œå®¹æ˜“å®ç°ã€‚

é€‚ç”¨äºä»»ä½•å›¾ï¼Œä¸ç®¡æœ‰å‘æ— å‘ï¼Œè¾¹æƒæ­£è´Ÿï¼Œä½†æ˜¯æœ€çŸ­è·¯å¿…é¡»å­˜åœ¨ã€‚ï¼ˆä¸èƒ½æœ‰ä¸ªè´Ÿç¯ï¼‰ã€‚

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•°ç»„ `f[k][x][y]`ï¼Œè¡¨ç¤ºåªå…è®¸ç»è¿‡ç»“ç‚¹ `1` åˆ° `k`ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å­å›¾ $V'={1, 2, \ldots, k}$ ä¸­çš„è·¯å¾„ï¼Œæ³¨æ„ï¼Œ$x$ ä¸ $y$ ä¸ä¸€å®šåœ¨è¿™ä¸ªå­å›¾ä¸­ï¼‰ï¼Œç»“ç‚¹ $x$ åˆ°ç»“ç‚¹ $y$ çš„æœ€çŸ­è·¯é•¿åº¦ã€‚

å¾ˆæ˜¾ç„¶ï¼Œ`f[n][x][y]` å°±æ˜¯ç»“ç‚¹ $x$ åˆ°ç»“ç‚¹ $y$ çš„æœ€çŸ­è·¯é•¿åº¦ï¼ˆå› ä¸º $V'={1, 2, \ldots, n}$ å³ä¸º $V$ æœ¬èº«ï¼Œå…¶è¡¨ç¤ºçš„æœ€çŸ­è·¯å¾„å°±æ˜¯æ‰€æ±‚è·¯å¾„ï¼‰ã€‚

æ¥ä¸‹æ¥è€ƒè™‘å¦‚ä½•æ±‚å‡º `f` æ•°ç»„çš„å€¼ã€‚

`f[0][x][y]`ï¼š$x$ ä¸ $y$ çš„è¾¹æƒï¼Œæˆ–è€… $0$ï¼Œæˆ–è€… $+\infty$ï¼ˆ`f[0][x][y]` ä»€ä¹ˆæ—¶å€™åº”è¯¥æ˜¯ $+\infty$ï¼Ÿå½“ $x$ ä¸ $y$ é—´æœ‰ç›´æ¥ç›¸è¿çš„è¾¹çš„æ—¶å€™ï¼Œä¸ºå®ƒä»¬çš„è¾¹æƒï¼›å½“ $x = y$ çš„æ—¶å€™ä¸ºé›¶ï¼Œå› ä¸ºåˆ°æœ¬èº«çš„è·ç¦»ä¸ºé›¶ï¼›å½“ $x$ ä¸ $y$ æ²¡æœ‰ç›´æ¥ç›¸è¿çš„è¾¹çš„æ—¶å€™ï¼Œä¸º $+\infty$ï¼‰ã€‚

`f[k][x][y] = min(f[k-1][x][y], f[k-1][x][k]+f[k-1][k][y])`ï¼ˆ`f[k-1][x][y]`ï¼Œä¸ºä¸ç»è¿‡ $k$ ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œè€Œ `f[k-1][x][k]+f[k-1][k][y]`ï¼Œä¸ºç»è¿‡äº† $k$ ç‚¹çš„æœ€çŸ­è·¯ï¼‰ã€‚

ä¸Šé¢ä¸¤è¡Œéƒ½æ˜¾ç„¶æ˜¯å¯¹çš„ï¼Œæ‰€ä»¥è¯´è¿™ä¸ªåšæ³•ç©ºé—´æ˜¯ $O(N^3)$ï¼Œæˆ‘ä»¬éœ€è¦ä¾æ¬¡å¢åŠ é—®é¢˜è§„æ¨¡ï¼ˆ$k$ ä» $1$ åˆ° $n$ï¼‰ï¼Œåˆ¤æ–­ä»»æ„ä¸¤ç‚¹åœ¨å½“å‰é—®é¢˜è§„æ¨¡ä¸‹çš„æœ€çŸ­è·¯ã€‚

```python
for k in range(1, n + 1):
    for x in range(1, n + 1):
        for y in range(1, n + 1):
            // ç›¸å½“äºè¿›è¡Œæ¾å¼›æ“ä½œ
            f[k][x][y] = min(f[k - 1][x][y], f[k - 1][x][k] + f[k - 1][k][y])
```

#### Dijkstra

Dijstraæ˜¯ä¸€ç§æ±‚è§£**éè´Ÿæƒå›¾**ä¸Šå•æºæœ€çŸ­è·¯å¾„çš„ç®—æ³•ã€‚

å°†ç»“ç‚¹åˆ†æˆä¸¤ä¸ªé›†åˆï¼š**å·²ç¡®å®šæœ€çŸ­è·¯é•¿åº¦çš„ç‚¹é›†**ï¼ˆè®°ä¸º $S$ é›†åˆï¼‰çš„å’Œ**æœªç¡®å®šæœ€çŸ­è·¯é•¿åº¦çš„ç‚¹é›†**ï¼ˆè®°ä¸º $T$ é›†åˆï¼‰ã€‚ä¸€å¼€å§‹æ‰€æœ‰çš„ç‚¹éƒ½å±äº $T$ é›†åˆã€‚

åˆå§‹åŒ– $dis(s)=0$ï¼Œå…¶ä»–ç‚¹çš„ $dis$ å‡ä¸º $+\infty$ã€‚

ç„¶åé‡å¤è¿™äº›æ“ä½œï¼š

1. ä» $T$ é›†åˆä¸­ï¼Œé€‰å–*ä¸€ä¸ªæœ€çŸ­è·¯é•¿åº¦æœ€å°çš„ç»“ç‚¹*ï¼Œç§»åˆ° $S$ é›†åˆä¸­ã€‚
2. å¯¹é‚£äº›åˆšåˆšè¢«åŠ å…¥ $S$ é›†åˆçš„**ç»“ç‚¹çš„æ‰€æœ‰å‡ºè¾¹æ‰§è¡Œæ¾å¼›æ“ä½œ**ã€‚

ç›´åˆ° $T$ é›†åˆä¸ºç©ºï¼Œç®—æ³•ç»“æŸã€‚

æœ‰å¤šç§æ–¹æ³•æ¥ç»´æŠ¤ `1` æ“ä½œä¸­æœ€çŸ­è·¯é•¿åº¦æœ€å°çš„ç»“ç‚¹ï¼Œä¸åŒçš„å®ç°å¯¼è‡´äº† Dijkstra ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸Šçš„å·®å¼‚ã€‚

- æš´åŠ›ï¼š*ä¸ä½¿ç”¨ä»»ä½•æ•°æ®ç»“æ„*è¿›è¡Œç»´æŠ¤ï¼Œæ¯æ¬¡ `2` æ“ä½œæ‰§è¡Œå®Œæ¯•åï¼Œç›´æ¥åœ¨ $T$ é›†åˆä¸­*æš´åŠ›å¯»æ‰¾æœ€çŸ­è·¯é•¿åº¦æœ€å°çš„ç»“ç‚¹*ã€‚`2` æ“ä½œæ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(m)$ï¼Œ`1` æ“ä½œæ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ï¼Œå…¨è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2 + m) = O(n^2)$ã€‚
- äºŒå‰å †ï¼šæ¯æˆåŠŸæ¾å¼›ä¸€æ¡è¾¹ $(u,v)$ï¼Œå°±**å°† $v$ æ’å…¥äºŒå‰å †ä¸­**ï¼ˆå¦‚æœ v å·²ç»åœ¨äºŒå‰å †ä¸­ï¼Œç›´æ¥ä¿®æ”¹ç›¸åº”å…ƒç´ çš„æƒå€¼å³å¯ï¼‰ï¼Œ`1` æ“ä½œç›´æ¥å–å †é¡¶ç»“ç‚¹å³å¯ã€‚å…±è®¡ $O(m)$ æ¬¡äºŒå‰å †ä¸Šçš„æ’å…¥ï¼ˆä¿®æ”¹ï¼‰æ“ä½œï¼Œ$O(n)$ æ¬¡åˆ é™¤å †é¡¶æ“ä½œï¼Œè€Œæ’å…¥ï¼ˆä¿®æ”¹ï¼‰å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O((n+m) \log n) = O(m \log n)$ã€‚
- ä¼˜å…ˆé˜Ÿåˆ—ï¼šå’ŒäºŒå‰å †ç±»ä¼¼ï¼Œä½†ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ—¶ï¼Œå¦‚æœåŒä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯è¢«æ›´æ–°å¤šæ¬¡ï¼Œå› ä¸ºå…ˆå‰æ›´æ–°æ—¶æ’å…¥çš„å…ƒç´ ä¸èƒ½è¢«åˆ é™¤ï¼Œä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼Œåªèƒ½ç•™åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œæ•…ä¼˜å…ˆé˜Ÿåˆ—å†…çš„å…ƒç´ ä¸ªæ•°æ˜¯ $O(m)$ çš„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(m \log m$)ã€‚
- Fibonacci å †ï¼šå’Œå‰é¢äºŒè€…ç±»ä¼¼ï¼Œä½† Fibonacci å †æ’å…¥çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ï¼Œæ•…æ—¶é—´å¤æ‚åº¦ä¸º $O(n \log n + m)$ï¼Œæ—¶é—´å¤æ‚åº¦æœ€ä¼˜ã€‚ä½†å› ä¸º Fibonacci å †è¾ƒäºŒå‰å †ä¸æ˜“å®ç°ï¼Œæ•ˆç‡ä¼˜åŠ¿ä¹Ÿä¸å¤Ÿå¤§ï¼Œç®—æ³•ç«èµ›ä¸­è¾ƒå°‘ä½¿ç”¨ã€‚
- çº¿æ®µæ ‘ï¼šå’ŒäºŒå‰å †åŸç†ç±»ä¼¼ï¼Œä¸è¿‡å°†æ¯æ¬¡æˆåŠŸæ¾å¼›åæ’å…¥äºŒå‰å †çš„æ“ä½œæ”¹ä¸ºåœ¨çº¿æ®µæ ‘ä¸Šæ‰§è¡Œå•ç‚¹ä¿®æ”¹ï¼Œè€Œ `1` æ“ä½œåˆ™æ˜¯çº¿æ®µæ ‘ä¸Šçš„å…¨å±€æŸ¥è¯¢æœ€å°å€¼ã€‚æ—¶é—´å¤æ‚åº¦ä¸º $O(m \log n)$ã€‚

åœ¨ç¨€ç–å›¾ä¸­ï¼Œ$m = O(n)$ï¼Œä½¿ç”¨äºŒå‰å †å®ç°çš„ Dijkstra ç®—æ³•è¾ƒ Bellman-Ford ç®—æ³•å…·æœ‰è¾ƒå¤§çš„æ•ˆç‡ä¼˜åŠ¿ï¼›è€Œåœ¨ç¨ å¯†å›¾ä¸­ï¼Œ$m = O(n^2)$ï¼Œè¿™æ—¶å€™ä½¿ç”¨æš´åŠ›åšæ³•è¾ƒäºŒå‰å †å®ç°æ›´ä¼˜ã€‚

æš´åŠ›å®ç°ï¼š

```python
class Edge:
    v = 0
    w = 0
e = [[Edge() for i in range(maxn)] for j in range(maxn)]
dis = [63] * maxn; vis = [] * maxn
def dijkstra(n, s):
    dis[s] = 0
    for i in range(1, n + 1):
        u = 0
        mind = 0x3f3f3f3f
        for j in range(1, n + 1):
            if vis[j] == False and dis[v] < mind:
                u = j
                mind = dis[j]
        vis[u] = True
        for ed in e[u]:
            v, w = ed.v, ed.w
            if dis[v] > dis[u] + w:
                dis[v] = dis[u] + w
```

### æœ€å°ç”Ÿæˆæ ‘

æˆ‘ä»¬å®šä¹‰æ— å‘è¿é€šå›¾çš„ æœ€å°ç”Ÿæˆæ ‘ï¼ˆMinimum Spanning Treeï¼ŒMSTï¼‰ä¸º**è¾¹æƒå’Œæœ€å°çš„ç”Ÿæˆæ ‘**ã€‚

> æ³¨æ„ï¼šåªæœ‰è¿é€šå›¾æ‰æœ‰ç”Ÿæˆæ ‘ï¼Œè€Œå¯¹äºéè¿é€šå›¾ï¼Œåªå­˜åœ¨ç”Ÿæˆæ£®æ—ã€‚

#### Kruskalç®—æ³•

Kruskal ç®—æ³•æ˜¯ä¸€ç§å¸¸è§å¹¶ä¸”å¥½å†™çš„æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ï¼Œç”± Kruskal å‘æ˜ã€‚è¯¥ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ä»å°åˆ°å¤§åŠ å…¥è¾¹ï¼Œæ˜¯ä¸ªè´ªå¿ƒç®—æ³•ã€‚

ç®—æ³•è™½ç®€å•ï¼Œä½†éœ€è¦ç›¸åº”çš„æ•°æ®ç»“æ„æ¥æ”¯æŒâ€¦â€¦å…·ä½“æ¥è¯´ï¼Œç»´æŠ¤ä¸€ä¸ªæ£®æ—ï¼ŒæŸ¥è¯¢ä¸¤ä¸ªç»“ç‚¹æ˜¯å¦åœ¨åŒä¸€æ£µæ ‘ä¸­ï¼Œè¿æ¥ä¸¤æ£µæ ‘ã€‚æŠ½è±¡ä¸€ç‚¹åœ°è¯´ï¼Œç»´æŠ¤ä¸€å †**é›†åˆ**ï¼ŒæŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€é›†åˆï¼Œåˆå¹¶ä¸¤ä¸ªé›†åˆã€‚å…¶ä¸­ï¼ŒæŸ¥è¯¢ä¸¤ç‚¹æ˜¯å¦è¿é€šå’Œè¿æ¥ä¸¤ç‚¹å¯ä»¥ä½¿ç”¨**å¹¶æŸ¥é›†**ç»´æŠ¤ã€‚

å¦‚æœä½¿ç”¨ $O(m\log m)$ çš„æ’åºç®—æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨ $O(m\alpha(m, n))$ æˆ– $O(m\log n)$ çš„å¹¶æŸ¥é›†ï¼Œå°±å¯ä»¥å¾—åˆ°æ—¶é—´å¤æ‚åº¦ä¸º $O(m\log m)$ çš„ Kruskal ç®—æ³•ã€‚

Kruskalç®—æ³•ä¸­ï¼Œå¦‚ä½•åˆ¤å®šæ˜¯å¦å­˜åœ¨å›è·¯ï¼Ÿä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­å¯åˆ©ç”¨å¹¶æŸ¥é›†ä¸­çš„`find`æ“ä½œå®ç°ï¼Œè‹¥ä¸¤ä¸ªé¡¶ç‚¹åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼Œé‚£ä¹ˆå‡å¦‚è¿™æ¡è¾¹å°±ä¼šå½¢æˆå›è·¯ï¼›ä¸æ­¤åŒæ—¶ï¼Œæ¯æ¬¡æ·»åŠ æ–°çš„è¾¹æ—¶éœ€è¦è¿›è¡Œ`unite`æ“ä½œã€‚

#### Primç®—æ³•

Prim ç®—æ³•æ˜¯å¦ä¸€ç§å¸¸è§å¹¶ä¸”å¥½å†™çš„æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ã€‚è¯¥ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ä»ä¸€ä¸ªç»“ç‚¹å¼€å§‹ï¼Œ*ä¸æ–­åŠ ç‚¹ï¼ˆè€Œä¸æ˜¯ Kruskal ç®—æ³•çš„åŠ è¾¹ï¼‰*ã€‚

å…·ä½“æ¥è¯´ï¼Œæ¯æ¬¡è¦é€‰æ‹©è·ç¦»æœ€å°çš„ä¸€ä¸ªç»“ç‚¹ï¼Œä»¥åŠç”¨æ–°çš„è¾¹æ›´æ–°å…¶ä»–ç»“ç‚¹çš„è·ç¦»ã€‚å…¶å®è·Ÿ Dijkstra ç®—æ³•ä¸€æ ·ï¼Œæ¯æ¬¡æ‰¾åˆ°è·ç¦»æœ€å°çš„ä¸€ä¸ªç‚¹ï¼Œå¯ä»¥æš´åŠ›æ‰¾ä¹Ÿå¯ä»¥ç”¨å †ç»´æŠ¤ã€‚

å †ä¼˜åŒ–çš„æ–¹å¼ç±»ä¼¼ Dijkstra çš„å †ä¼˜åŒ–ï¼Œä½†å¦‚æœä½¿ç”¨äºŒå‰å †ç­‰ä¸æ”¯æŒ $O(1)$ decrease-key çš„å †ï¼Œå¤æ‚åº¦å°±ä¸ä¼˜äº Kruskalï¼Œå¸¸æ•°ä¹Ÿæ¯” Kruskal å¤§ã€‚æ‰€ä»¥ï¼Œ**ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä½¿ç”¨ Kruskal ç®—æ³•**ï¼Œ*åœ¨ç¨ å¯†å›¾å°¤å…¶æ˜¯å®Œå…¨å›¾ä¸Šï¼Œæš´åŠ› Prim çš„å¤æ‚åº¦æ¯” Kruskal ä¼˜ï¼Œä½† **ä¸ä¸€å®š** å®é™…è·‘å¾—æ›´å¿«*ã€‚

ä¸åŒå®ç°ä¸‹ï¼Œå…¶æ€§èƒ½å¯ä»¥åˆ†åˆ«è¾¾åˆ°ï¼š

- æš´åŠ›ï¼š$O(n^2+m)$ã€‚
- äºŒå‰å †ï¼š$O((n+m) \log n)$ã€‚
- Fib å †ï¼š$O(n \log n + m)$ã€‚

#### Boruvka ç®—æ³•

Boruvka ç®—æ³•çš„æ€æƒ³æ˜¯å‰ä¸¤ç§ç®—æ³•çš„ç»“åˆã€‚å®ƒå¯ä»¥ç”¨äºæ±‚è§£ **è¾¹æƒäº’ä¸ç›¸åŒ** çš„æ— å‘å›¾çš„æœ€å°ç”Ÿæˆæ£®æ—ã€‚ï¼ˆæ— å‘è¿é€šå›¾å°±æ˜¯æœ€å°ç”Ÿæˆæ ‘ã€‚ï¼‰

## è´ªå©ªç®—æ³•

è´ªå¿ƒç®—æ³•ï¼ˆè‹±è¯­ï¼šgreedy algorithmï¼‰ï¼Œæ˜¯ç”¨è®¡ç®—æœºæ¥æ¨¡æ‹Ÿä¸€ä¸ªã€Œè´ªå¿ƒã€çš„äººåšå‡ºå†³ç­–çš„è¿‡ç¨‹ã€‚è¿™ä¸ªäººååˆ†è´ªå©ªï¼Œæ¯ä¸€æ­¥è¡ŒåŠ¨æ€»æ˜¯æŒ‰æŸç§æŒ‡æ ‡é€‰å–æœ€ä¼˜çš„æ“ä½œã€‚è€Œä¸”ä»–ç›®å…‰çŸ­æµ…ï¼Œæ€»æ˜¯åªçœ‹çœ¼å‰ï¼Œå¹¶ä¸è€ƒè™‘ä»¥åå¯èƒ½é€ æˆçš„å½±å“ã€‚

å¯æƒ³è€ŒçŸ¥ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ—¶å€™è´ªå¿ƒæ³•éƒ½èƒ½è·å¾—æœ€ä¼˜è§£ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨è´ªå¿ƒæ³•çš„æ—¶å€™ï¼Œéƒ½è¦ç¡®ä¿è‡ªå·±èƒ½**è¯æ˜å…¶æ­£ç¡®æ€§**ã€‚

è´ªå¿ƒç®—æ³•ä¸åŠ¨æ€è§„åˆ’çš„ä¸åŒåœ¨äºå®ƒå¯¹æ¯ä¸ªå­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆéƒ½åšå‡ºé€‰æ‹©ï¼Œä¸èƒ½å›é€€ã€‚åŠ¨æ€è§„åˆ’åˆ™ä¼šä¿å­˜ä»¥å‰çš„è¿ç®—ç»“æœï¼Œå¹¶æ ¹æ®ä»¥å‰çš„ç»“æœå¯¹å½“å‰è¿›è¡Œé€‰æ‹©ï¼Œæœ‰å›é€€åŠŸèƒ½ã€‚

### æœ€ä¼˜åŒ–é—®é¢˜

## åˆ†æ²»

åˆ†æ²»ï¼ˆè‹±è¯­ï¼šDivide and Conquerï¼‰ï¼Œå­—é¢ä¸Šçš„è§£é‡Šæ˜¯ã€Œåˆ†è€Œæ²»ä¹‹ã€ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶ã€‚

> é€’å½’æ˜¯ä¸€ç§ç¼–ç¨‹æŠ€å·§ï¼Œä¸€ç§è§£å†³é—®é¢˜çš„æ€ç»´æ–¹å¼ï¼›åˆ†æ²»ç®—æ³•å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯åŸºäºé€’å½’çš„ï¼Œè§£å†³æ›´å…·ä½“é—®é¢˜çš„ç®—æ³•æ€æƒ³ã€‚

åˆ†æ²»ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ã€Œåˆ†è€Œæ²»ä¹‹ã€ã€‚å¤§æ¦‚çš„æµç¨‹å¯ä»¥åˆ†ä¸ºä¸‰æ­¥ï¼š*åˆ†è§£ä¸€ï¼è§£å†³ä¸€ï¼åˆå¹¶*ã€‚

1. åˆ†è§£åŸé—®é¢˜ä¸ºç»“æ„ç›¸åŒçš„å­é—®é¢˜ã€‚
2. åˆ†è§£åˆ°æŸä¸ªå®¹æ˜“æ±‚è§£çš„è¾¹ç•Œä¹‹åï¼Œè¿›è¡Œé€’å½’æ±‚è§£ã€‚
3. å°†å­é—®é¢˜çš„è§£åˆäº•æˆåŸé—®é¢˜çš„è§£ã€‚

åˆ†æ²»æ³•èƒ½è§£å†³çš„é—®é¢˜ä¸€èˆ¬æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š

- è¯¥é—®é¢˜çš„è§„æ¨¡ç¼©å°åˆ°ä¸€å®šçš„ç¨‹åº¦å°±å¯ä»¥å®¹æ˜“åœ°è§£å†³ã€‚
- è¯¥é—®é¢˜å¯ä»¥åˆ†è§£ä¸ºè‹¥åƒä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜ï¼Œå³è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œåˆ©ç”¨è¯¥é—®é¢˜åˆ†è§£å‡ºçš„å­é—®é¢˜çš„è§£å¯ä»¥åˆäº•ä¸ºè¯¥é—®é¢˜çš„è§£ã€‚
- è¯¥é—®é¢˜æ‰€åˆ†è§£å‡ºçš„å„ä¸ªå­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³å­é—®é¢˜ä¹‹é—´ä¸åŒ…å«å…¬å…±çš„å­é—®é¢˜ã€‚

## åŠ¨æ€è§„åˆ’

## å…¸å‹é—®é¢˜

### æ ‘çš„è®¡ç®—

#### äºŒå‰æ ‘çš„æ•°å€¼

#### B-æ ‘

å¯¹ä¸€ä¸ªï½é˜¶Bæ ‘ï¼š

- æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰ $m$ ä¸ªå­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯m-1ä¸ªé”®
- é™¤æ ¹èŠ‚ç‚¹ã€å¶å­ç»“ç‚¹ä»¥å¤–çš„èŠ‚ç‚¹æœ€å°‘æœ‰ $[\frac{m}{2}]$ ä¸ªå­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ $[\frac{m}{2}] - 1$ ä¸ªé”®ã€‚
- æ ¹èŠ‚ç‚¹æœ‰è‡³å°‘ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªé”®
- æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šåŒ…å« $2k-1$ ä¸ªé”® ????

> å«æœ‰nä¸ªéå¶ç»“ç‚¹çš„mé˜¶B-æ ‘ä¸­è‡³å°‘åŒ…å«å¤šå°‘ä¸ªå…³é”®å­—ï¼Ÿ
>
> nä¸ªéå¶ç»“ç‚¹ä¸­ï¼Œæ ¹èŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªå…³é”®å­—ï¼›å…¶ä»– $(n-1)$ å„èŠ‚ç‚¹å„è‡ªè‡³å°‘æœ‰ $[\frac{m}{2}] - 1$ ä¸ªå…³é”®å­—ï¼Œæ€»å…±æœ‰ $(n-1) * ([\frac{m}{2}] - 1) + 1$ä¸ªå…³é”®å­—ã€‚

### æ’åºç®—æ³•

- åŸºæ•°æ’åºã€è®¡æ•°æ’åºã€æ’å…¥æ’åºã€å†’æ³¡æ’åºã€å½’å¹¶æ’åºæ˜¯ç¨³å®šæ’åºã€‚
- é€‰æ‹©æ’åºã€å †æ’åºã€å¿«é€Ÿæ’åºã€å¸Œå°”æ’åºä¸æ˜¯ç¨³å®šæ’åºã€‚

æ’å…¥ã€é€‰æ‹©å’Œå†’æ³¡æ˜¯$O(n^2)$å¤æ‚åº¦çš„ç®—æ³•ã€‚

#### æ‹“æ‰‘æ’åº

#### å½’å¹¶æ’åº

å½’å¹¶æ’åºï¼ˆmerge sortï¼‰æ˜¯é«˜æ•ˆçš„åŸºäºæ¯”è¾ƒçš„ç¨³å®šæ’åºç®—æ³•ã€‚

å½’å¹¶æ’åºåŸºäºåˆ†æ²»æ€æƒ³å°†æ•°ç»„åˆ†æ®µæ’åºååˆå¹¶ï¼Œæ—¶é—´å¤æ‚åº¦åœ¨æœ€ä¼˜ã€æœ€åä¸å¹³å‡æƒ…å†µä¸‹å‡ä¸º $\Theta (n \log n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º $\Theta (n)$ã€‚å½’å¹¶æ’åºå¯ä»¥åªä½¿ç”¨ $\Theta (1)$ çš„è¾…åŠ©ç©ºé—´ï¼Œä½†ä¸ºä¾¿æ·é€šå¸¸ä½¿ç”¨ä¸åŸæ•°ç»„ç­‰é•¿çš„è¾…åŠ©æ•°ç»„ã€‚

### æœç´¢ç®—æ³•

### ç­‰ä»·ç±»ä¸å¹¶æŸ¥é›†

- ç¦»çº¿ç­‰ä»·ç±»é—®é¢˜ï¼šå·²çŸ¥nå’ŒRï¼Œç¡®å®šæ‰€æœ‰çš„ç­‰ä»·ç±»
- åœ¨çº¿ç­‰ä»·ç±»é—®é¢˜ï¼ˆåˆç§°ä¸º**å¹¶æŸ¥é›†**é—®é¢˜ï¼‰ï¼šåˆå§‹æœ‰nä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½å±äºä¸€ä¸ªç‹¬ç«‹çš„ç­‰ä»·ç±»

å¹¶æŸ¥é›†è¢«å¾ˆå¤šOIerè®¤ä¸ºæ˜¯æœ€ç®€æ´è€Œä¼˜é›…çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œä¸»è¦ç”¨äºè§£å†³ä¸€äº›**å…ƒç´ åˆ†ç»„**çš„é—®é¢˜ã€‚å®ƒ*ç®¡ç†ä¸€ç³»åˆ—ä¸ç›¸äº¤çš„é›†åˆ*ï¼Œå¹¶æ”¯æŒä¸¤ç§æ“ä½œï¼š

- åˆå¹¶ï¼ˆUnionï¼‰ï¼šæŠŠä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆåˆå¹¶ä¸ºä¸€ä¸ªé›†åˆã€‚
- æŸ¥è¯¢ï¼ˆFindï¼‰ï¼šæŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­ã€‚

#### ç¦»çº¿ç­‰ä»·ç±»

å®ç°ç¦»çº¿ç­‰ä»·ç±»éœ€è¦å¦‚ä¸‹éƒ¨åˆ†ï¼š

- ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„é“¾è¡¨æ•°ç»„ï¼Œç”¨äºä¿å­˜æ¯ä¸ªå…ƒç´ çš„å…³ç³»ã€‚
- ä¸€ä¸ªæ ˆï¼Œç”¨äºåœ¨è¾“å‡ºæ—¶ä¿å­˜å›æº¯ä¿¡æ¯ã€‚
- ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œç”¨äºè¾“å‡ºæ—¶ä¿å­˜å…ƒç´ æ˜¯å¦è¢«è¾“å‡ºè¿‡ã€‚

#### åœ¨çº¿ç­‰ä»·ç±»

## å‚è€ƒèµ„æ–™